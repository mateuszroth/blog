<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Software Sensei&#39;s Notes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Software Sensei&#39;s Notes">
<meta property="og:url" content="https://mateuszroth.github.io/blog/index.html">
<meta property="og:site_name" content="Software Sensei&#39;s Notes">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Mateusz Roth">
<meta property="article:tag" content="konsultant, specjalista, programista, developer, consultant, specialist, Software Engineer, iOS, App, Mac, Android, Chrome, Safari, Firefox, Front End, Web, Development, JavaScript, ECMAScript, ES6, ES5, React, Node.js, Express, React Native, Vue, Angular, AngularJS, Ionic, Cordova, Bootstrap, SASS, LESS, Haml, Jade, Design, UI, UX, web apps, web applications, aplikacje internetowe, tworzenie aplikacji internetowych, tworzenie stron internetowych, tworzenie aplikacji mobilnych, tworzenie wizytówek internetowych">
<meta name="twitter:card" content="summary">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/blog/css/style.css">

<meta name="generator" content="Hexo 5.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/blog/" id="logo">
          <div><img src="https://mateuszroth.pl/img/mateusz@2x1.png" width="100" style="position: relative; top: -20px;" /></div>
          Software Sensei&#39;s Notes
        </a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/blog/">Home</a>
        
          <a class="main-nav-link" href="/blog/about-me">About me</a>
        
          <a class="main-nav-link" href="/blog/categories/JavaScript/">JavaScript</a>
        
          <a class="main-nav-link" href="/blog/categories/Node-js/">Node.js</a>
        
          <a class="main-nav-link" href="/blog/categories/React/">React</a>
        
          <a class="main-nav-link" href="/blog/categories/Software-Engineering/">Software Engineering</a>
        
          <a class="main-nav-link" href="/blog/archives">Other archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://mateuszroth.github.io/blog"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><div style="
  text-align: center;
  padding: 30px;
  font-size: 18px;
  line-height: 1.5em;
  color: rgb(85, 85, 85);
">
  Hello, I'm Mateusz Roth. Welcome to my blog. I'm open-minded Software Engineer that loves learning. Specialized in web apps and JavaScript, experienced in mobile dev, interested in Node.js, frontend and UX but also feels good with other programming languages like Swift, Kotlin, ObjC, Android, C#; is eager to learn and work with Python, Golang, Node.js microservices or IoT.
</div>

  
    <article id="post-Backend/Authentication-and-Authorization" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2021/07/03/Backend/Authentication-and-Authorization/" class="article-date">
  <time datetime="2021-07-03T22:00:00.000Z" itemprop="datePublished">2021-07-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/Backend/">Backend</a>►<a class="article-category-link" href="/blog/categories/Backend/Authentication/">Authentication</a>►<a class="article-category-link" href="/blog/categories/Backend/Authentication/Authorization/">Authorization</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2021/07/03/Backend/Authentication-and-Authorization/">Authentication and Authorization</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Authentication-and-Authorization"><a href="#Authentication-and-Authorization" class="headerlink" title="Authentication and Authorization"></a>Authentication and Authorization</h1><p>• <strong>Authentication</strong> (pl. <em>uwierzytelnianie, autentykacja</em>) describes the process of claiming an identity. That’s what you do when you log in to a service with a username and password, you authenticate yourself.<br>• <strong>Authorization</strong> on the other hand describes permission rules that specify the access rights of individual users and user groups to certain parts of the system, i.e. ACL.</p>
<h2 id="Authentication"><a href="#Authentication" class="headerlink" title="Authentication"></a>Authentication</h2><ul>
<li>When we do token-based authentication, such as OpenID, OAuth, or OpenID Connect, we receive an <code>access_token</code> (and sometimes <code>id_token</code>) from a trusted authority</li>
<li>Passport is an authentication middleware for Node.js<ul>
<li>Packages<ul>
<li><code>bcrypt</code> for hashing user passwords</li>
<li><code>jsonwebtoken</code> for signing tokens</li>
<li><code>passport-local</code> for implementing local strategy</li>
<li><code>passport-jwt</code> for retrieving and verifying JWTs</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="OAuth2"><a href="#OAuth2" class="headerlink" title="OAuth2"></a>OAuth2</h3><ul>
<li>i.e. Facebook, Google</li>
<li>You need to register your app on authorization server such as Google. You will get <code>client id</code> for your app, you will have defined both <code>redirect URL</code> and <code>client secret</code>.</li>
<li>The <code>redirect URL</code> is used by the authorization server after an user logs in successfully to the server.</li>
<li>Sample steps:<ol>
<li>To get authorization code user calls authorization server <a target="_blank" rel="noopener" href="https://cloud.digitalocean.com/v1/oauth/authorize?response_type=code&amp;client_id=CLIENT_ID&amp;redirect_uri=CALLBACK_URL&amp;scope=read">https://cloud.digitalocean.com/v1/oauth/authorize?response_type=code&amp;client_id=CLIENT_ID&amp;redirect_uri=CALLBACK_URL&amp;scope=read</a></li>
<li>Send authorization code to our app <a target="_blank" rel="noopener" href="https://dropletbook.com/callback?code=AUTHORIZATION_CODE">https://dropletbook.com/callback?code=AUTHORIZATION_CODE</a></li>
<li>After receiveing authorization code, our app calls authorization server to get access token <a target="_blank" rel="noopener" href="https://cloud.digitalocean.com/v1/oauth/token?client_id=CLIENT_ID&amp;client_secret=CLIENT_SECRET&amp;grant_type=authorization_code&amp;code=AUTHORIZATION_CODE&amp;redirect_uri=CALLBACK_URL">https://cloud.digitalocean.com/v1/oauth/token?client_id=CLIENT_ID&amp;client_secret=CLIENT_SECRET&amp;grant_type=authorization_code&amp;code=AUTHORIZATION_CODE&amp;redirect_uri=CALLBACK_URL</a></li>
<li>Our app gets access token <code>&#123;&quot;access_token&quot;:&quot;ACCESS_TOKEN&quot;,&quot;token_type&quot;:&quot;bearer&quot;,&quot;expires_in&quot;:2592000,&quot;refresh_token&quot;:&quot;REFRESH_TOKEN&quot;,&quot;scope&quot;:&quot;read&quot;,&quot;uid&quot;:100101,&quot;info&quot;:&#123;&quot;name&quot;:&quot;Mark E. Mark&quot;,&quot;email&quot;:&quot;mark@thefunkybunch.com&quot;&#125;&#125;</code></li>
</ol>
</li>
<li>visual explanation: <a target="_blank" rel="noopener" href="https://darutk.medium.com/the-simplest-guide-to-oauth-2-0-8c71bd9a15bb">https://darutk.medium.com/the-simplest-guide-to-oauth-2-0-8c71bd9a15bb</a></li>
<li>another explanation for steps:<ol>
<li>User wants to request a resource that requires auth</li>
<li>Authorization server returns an <em>authorization code</em> to the client</li>
<li>Client then uses that <em>authorization code</em> in order to request an <em>authorization token</em> - e.g. a JWT</li>
</ol>
</li>
</ul>
<h2 id="Authorization"><a href="#Authorization" class="headerlink" title="Authorization"></a>Authorization</h2><h3 id="JWT-JSON-Web-Tokens"><a href="#JWT-JSON-Web-Tokens" class="headerlink" title="JWT (JSON Web Tokens)"></a>JWT (JSON Web Tokens)</h3><ul>
<li>JSON Web Token (JWT) is an open standard that defines a compact and self-contained way for securely transmitting information between parties as a JSON object.</li>
<li>JWTs can be signed using a secret (with HMAC algorithm) or a public/private key pair using RSA.</li>
<li>JWTs consist of three parts separated by dots (.), which are:<ul>
<li>Header<ul>
<li>consists of two parts: the type of the token, which is JWT, and the hashing algorithm such as HMAC SHA256 or RSA</li>
<li>JSON is encoded to Base64Url<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;alg&quot;: &quot;HS256&quot;,</span><br><span class="line">  &quot;typ&quot;: &quot;JWT&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>Payload<ul>
<li>The payload contains all the required information about the user</li>
<li>do not store passwords here or secret data<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;sub&quot;: &quot;1234567890&quot;,</span><br><span class="line">  &quot;name&quot;: &quot;John Doe&quot;,</span><br><span class="line">  &quot;admin&quot;: true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>Signature<ul>
<li>you have to take the encoded header, the encoded payload, a secret, the algorithm specified in the header, and sign that to create signature<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">HMACSHA256(</span><br><span class="line">  base64UrlEncode(header) + &quot;.&quot; +</span><br><span class="line">  base64UrlEncode(payload),</span><br><span class="line">  secret)</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
<li>can be sent through an URL, POST parameter, or inside an HTTP header</li>
<li>JWT sent over as an <code>Authorization: Bearer &lt;token&gt;</code> header is a stateless authentication mechanism as the user state is never saved in the server memory</li>
</ul>
<h4 id="Advantages"><a href="#Advantages" class="headerlink" title="Advantages"></a>Advantages</h4><ul>
<li>They are easy to scale horizontally</li>
<li>due to its size its transmission is fast</li>
<li>They are easier to maintain and debug</li>
<li>They have the ability to create truly RESTful Services</li>
<li>They have built-in expiration functionality</li>
<li>JSON Web Tokens are self-contained</li>
<li>JWT is a <strong>stateless authentication</strong> mechanism as the user state is never saved in the server memory</li>
<li>doesn’t matter which domains are serving your APIs, as <strong>Cross-Origin Resource Sharing (CORS) won’t be an issue</strong> as it doesn’t use cookies</li>
<li>a good way of securely transmitting information between parties</li>
</ul>
<h4 id="Precautions"><a href="#Precautions" class="headerlink" title="Precautions"></a>Precautions</h4><ul>
<li>a great care must be taken to prevent security issues and you <strong>should not keep tokens longer than required</strong></li>
<li><strong>you also should not store sensitive session data in browser storage due to lack of security</strong></li>
</ul>
<h4 id="Invalidation"><a href="#Invalidation" class="headerlink" title="Invalidation"></a>Invalidation</h4><ul>
<li>Simply remove the token from the client</li>
<li>Create a token blocklist or whitelist</li>
<li>Just keep token expiry times short and rotate them often</li>
</ul>
<h4 id="While-using-cookies"><a href="#While-using-cookies" class="headerlink" title="While using cookies"></a>While using cookies</h4><ul>
<li>Cookies/session id is not self contained. It is a reference token. During each validation the Gmail server needs to fetch the information corresponding to it.<ul>
<li>Cookie/session based authentication doesn’t scale well</li>
</ul>
</li>
<li>JWT is self contained. It is a value token. So during each validation the Gmail server does not needs to fetch the information corresponding to it. It is most suitable for Microservices Architecture<ul>
<li>with JWTs REST API is stateless and therefore without side effects means that maintainability and debugging are made much easier</li>
<li>CORS - for an API to be served from one server and for the actual application to consume it from another. To make this happen, we need to enable Cross-Origin Resource Sharing (CORS). Since cookies can only be used for the domain from which they originated, they aren’t much help for APIs on different domains than the application. Using JWTs for authentication in this case ensures that the RESTful API is stateless</li>
</ul>
</li>
</ul>
<h4 id="Use-cases"><a href="#Use-cases" class="headerlink" title="Use cases"></a>Use cases</h4><ul>
<li>Authorization: This is the most common scenario for using JWT. Once the user is logged in, each subsequent request will include the JWT, allowing the user to access routes, services, and resources that are permitted with that token. Single Sign On is a feature that widely uses JWT nowadays, because of its small overhead and its ability to be easily used across different domains.</li>
</ul>
<h4 id="Sources"><a href="#Sources" class="headerlink" title="Sources"></a>Sources</h4><ul>
<li><a target="_blank" rel="noopener" href="https://auth0.com/learn/json-web-tokens/">https://auth0.com/learn/json-web-tokens/</a></li>
</ul>
<h3 id="ACL-Roles-and-permissions"><a href="#ACL-Roles-and-permissions" class="headerlink" title="ACL / Roles and permissions"></a>ACL / Roles and permissions</h3><h4 id="TODO"><a href="#TODO" class="headerlink" title="TODO:"></a>TODO:</h4><ul>
<li><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/38893178/what-is-the-best-way-to-implement-roles-and-permission-in-express-rest-api">https://stackoverflow.com/questions/38893178/what-is-the-best-way-to-implement-roles-and-permission-in-express-rest-api</a></li>
<li><a target="_blank" rel="noopener" href="https://gist.github.com/facultymatt/6370903">https://gist.github.com/facultymatt/6370903</a></li>
<li><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/accesscontrol">https://www.npmjs.com/package/accesscontrol</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mateuszroth.github.io/blog/2021/07/03/Backend/Authentication-and-Authorization/" data-id="ckqp6o9d10002zbr1b8gg0fds" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/Authentication/" rel="tag">Authentication</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/Authorization/" rel="tag">Authorization</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/Backend/" rel="tag">Backend</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Backend/Redis" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2021/07/03/Backend/Redis/" class="article-date">
  <time datetime="2021-07-03T22:00:00.000Z" itemprop="datePublished">2021-07-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/Backend/">Backend</a>►<a class="article-category-link" href="/blog/categories/Backend/Redis/">Redis</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2021/07/03/Backend/Redis/">Redis</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h1><ul>
<li>Redis is an in-memory data structure store that can be used as a database, cache, or publish/subscribe client.</li>
<li>In terms of WebSockets there are some ways of “sharing” the pool of open connections between many instances. One way is to use Redis’ publish/subscribe mechanism to forward emitted events between all instances of the application to make sure each open connection receives them.</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mateuszroth.github.io/blog/2021/07/03/Backend/Redis/" data-id="ckqp6o9d50005zbr1a9o0a3wn" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/Backend/" rel="tag">Backend</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/Redis/" rel="tag">Redis</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Backend/ElasticSearch" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2021/07/02/Backend/ElasticSearch/" class="article-date">
  <time datetime="2021-07-02T22:00:00.000Z" itemprop="datePublished">2021-07-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/Backend/">Backend</a>►<a class="article-category-link" href="/blog/categories/Backend/ElasticSearch/">ElasticSearch</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2021/07/02/Backend/ElasticSearch/">ElasticSearch</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="ElasticSearch"><a href="#ElasticSearch" class="headerlink" title="ElasticSearch"></a>ElasticSearch</h1><h2 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h2><ul>
<li>theory: <a target="_blank" rel="noopener" href="https://medium.com/better-programming/introduction-to-elasticsearch-using-node-js-part-1-164311327557">https://medium.com/better-programming/introduction-to-elasticsearch-using-node-js-part-1-164311327557</a></li>
<li>In practice in Node.js:<br><a target="_blank" rel="noopener" href="https://medium.com/better-programming/introduction-to-elasticsearch-using-node-js-part-2-4c804427bc94">https://medium.com/better-programming/introduction-to-elasticsearch-using-node-js-part-2-4c804427bc94</a></li>
<li>Elasticsearch course on Udemy to buy and watch:<br><a target="_blank" rel="noopener" href="https://www.udemy.com/course/elasticsearch-complete-guide/">https://www.udemy.com/course/elasticsearch-complete-guide/</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mateuszroth.github.io/blog/2021/07/02/Backend/ElasticSearch/" data-id="ckqp6o9d30003zbr1edtq18ed" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/Backend/" rel="tag">Backend</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/ElasticSearch/" rel="tag">ElasticSearch</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Nodejs/Nodejs-Nestjs" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2021/06/30/Nodejs/Nodejs-Nestjs/" class="article-date">
  <time datetime="2021-06-30T22:00:00.000Z" itemprop="datePublished">2021-07-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/Node-js/">Node.js</a>►<a class="article-category-link" href="/blog/categories/Node-js/Basics/">Basics</a>►<a class="article-category-link" href="/blog/categories/Node-js/Basics/Nest-js/">Nest.js</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2021/06/30/Nodejs/Nodejs-Nestjs/">Node.js - Nest.js framework</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Nest-js-framework"><a href="#Nest-js-framework" class="headerlink" title="Nest.js framework"></a>Nest.js framework</h1><ul>
<li>Currently, it supports two libraries — Express and Fastify</li>
<li>it forces developers to use a specific architecture by introducing <strong>Angular-like modules, services, and controllers</strong>, ensuring the application is scalable, highly testable, and loosely coupled</li>
<li>A controller is a class annotated with the <code>@Controller</code> decorator and it checks what request comes in and calls the appropriate service’s method. They don’t care about what’s going on between the request and the response.</li>
<li>A service is a class annotated with the @Injectable decorator. It contains domain (business) logic. By separating the access layer (controllers) and logic layer (services), we have a clear separation of concerns.</li>
<li><strong>Dependency injection is one of the most important aspects of Nest</strong>. By providing the support out of the box, Nest allows us to write <strong>loosely coupled code</strong>, which, in turn, is also <strong>easily testable</strong>.</li>
<li>By using dependency injection, it is very easy to mock out the modules we are not currently testing thanks to Nest’s <em>custom providers</em> feature.</li>
<li>Nest stays on top of the new trends and makes it very easy to write an application based on the microservices architecture.</li>
<li>Nest is used for building REST APIs but also the architecture can be used to create a GraphQL API as well.</li>
</ul>
<h2 id="Sample-Controller"><a href="#Sample-Controller" class="headerlink" title="Sample Controller"></a>Sample Controller</h2><h3 id="Sample-1"><a href="#Sample-1" class="headerlink" title="Sample 1"></a>Sample 1</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">@Controller(<span class="string">&#x27;cats&#x27;</span>)</span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">CatsController</span> </span>&#123;</span><br><span class="line">  @Post()</span><br><span class="line">  <span class="function"><span class="title">create</span>(<span class="params">@Body() createCatDto: CreateCatDto</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;This action adds a new cat&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @Get()</span><br><span class="line">  <span class="function"><span class="title">findAll</span>(<span class="params">@Query() query: ListAllEntities</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`This action returns all cats (limit: <span class="subst">$&#123;query.limit&#125;</span> items)`</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @Get(<span class="string">&#x27;:id&#x27;</span>)</span><br><span class="line">  <span class="function"><span class="title">findOne</span>(<span class="params">@Param(<span class="string">&#x27;id&#x27;</span>) id: string</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`This action returns a #<span class="subst">$&#123;id&#125;</span> cat`</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @Put(<span class="string">&#x27;:id&#x27;</span>)</span><br><span class="line">  <span class="function"><span class="title">update</span>(<span class="params">@Param(<span class="string">&#x27;id&#x27;</span>) id: string, @Body() updateCatDto: UpdateCatDto</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`This action updates a #<span class="subst">$&#123;id&#125;</span> cat`</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @Delete(<span class="string">&#x27;:id&#x27;</span>)</span><br><span class="line">  <span class="function"><span class="title">remove</span>(<span class="params">@Param(<span class="string">&#x27;id&#x27;</span>) id: string</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`This action removes a #<span class="subst">$&#123;id&#125;</span> cat`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Sample-2"><a href="#Sample-2" class="headerlink" title="Sample 2"></a>Sample 2</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">@Controller(<span class="string">&#x27;cats&#x27;</span>)</span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">CatsController</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params">private readonly catsService: CatsService</span>)</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">  @Post()</span><br><span class="line">  <span class="keyword">async</span> <span class="function"><span class="title">create</span>(<span class="params">@Body() createCatDto: CreateCatDto</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.catsService.create(createCatDto);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @Get()</span><br><span class="line">  <span class="keyword">async</span> findAll(): <span class="built_in">Promise</span>&lt;Cat[]&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.catsService.findAll();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Sample-Service"><a href="#Sample-Service" class="headerlink" title="Sample Service"></a>Sample Service</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@Injectable()</span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">CatsService</span> </span>&#123;</span><br><span class="line">  private readonly cats: Cat[] = [];</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="title">create</span>(<span class="params">cat: Cat</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.cats.push(cat);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  findAll(): Cat[] &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.cats;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Sources"><a href="#Sources" class="headerlink" title="Sources"></a>Sources</h2><ul>
<li><a target="_blank" rel="noopener" href="https://blog.logrocket.com/node-back-end-next-level-nestjs/">Take your Node backend to the next level with NestJS</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mateuszroth.github.io/blog/2021/06/30/Nodejs/Nodejs-Nestjs/" data-id="ckqp6o9e0001czbr1cqljainp" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/Backend/" rel="tag">Backend</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/Node-js/" rel="tag">Node.js</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Nodejs/Nodejs-threads" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2021/06/29/Nodejs/Nodejs-threads/" class="article-date">
  <time datetime="2021-06-29T22:00:00.000Z" itemprop="datePublished">2021-06-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/Node-js/">Node.js</a>►<a class="article-category-link" href="/blog/categories/Node-js/Basics/">Basics</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2021/06/29/Nodejs/Nodejs-threads/">Node.js threads</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Backgrounds"><a href="#Backgrounds" class="headerlink" title="Backgrounds"></a>Backgrounds</h1><ul>
<li>The virtual machine and the operating system run the I/O in parallel for us, and when it’s time to send data back to our JavaScript code, the JavaScript part is the one that runs in a single thread. So everything runs in parallel except for our JavaScript code:<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> flag = <span class="literal">false</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  flag = <span class="literal">true</span></span><br><span class="line">  <span class="comment">// More code (that doesn&#x27;t change `flag`)...</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// We can be sure that `flag` here is true.</span></span><br><span class="line">  <span class="comment">// There&#x27;s no way another code block could have changed</span></span><br><span class="line">  <span class="comment">// `flag` since this block is synchronous.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>For example, in Java, even some numeric types are not atomic; if you don’t synchronize their access, you could end up having two threads change the value of a variable. The result would be that after both threads have accessed the variable, it has a few bytes changed by one thread and a few bytes changed by the other thread — and, thus, not resulting in any valid value.</li>
<li>Worker pool is an execution model that spawns and handles separate threads, which then synchronously perform the task and return the result to the event loop. The event loop then executes the provided callback with said result. A worker pool is a given number of previously created workers sitting and listening for the message event. Eight workers created below:<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pool = <span class="keyword">new</span> WorkerPool(path.join(__dirname, <span class="string">&#x27;./test-worker.js&#x27;</span>), <span class="number">8</span>);</span><br></pre></td></tr></table></figure></li>
<li>In short, main event pool takes care of asynchronous I/O operations — primarily, interactions with the system’s disk and network. It is mainly used by modules such as <code>fs</code> (I/O-heavy) or <code>crypto</code> (CPU-heavy). Worker pool is implemented in libuv.<br><a target="_blank" rel="noopener" href="https://blog.logrocket.com/node-js-multithreading-what-are-worker-threads-and-why-do-they-matter-48ab102f8b10/">source 1</a><br><a target="_blank" rel="noopener" href="https://blog.logrocket.com/a-complete-guide-to-threads-in-node-js-4fa3898fe74f/">source 2</a></li>
</ul>
<h1 id="worker-threads-module"><a href="#worker-threads-module" class="headerlink" title="worker_threads module"></a><code>worker_threads</code> module</h1><ul>
<li>A thread worker is a piece of code (usually taken out of a file) spawned in a separate thread.</li>
<li>Here’s an example of a file that contains a worker that is spawned, executed, and then closed:<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; parentPort &#125; <span class="keyword">from</span> <span class="string">&#x27;worker_threads&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> collection = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i += <span class="number">1</span>) &#123;</span><br><span class="line"> collection[i] = i;</span><br><span class="line">&#125;</span><br><span class="line">parentPort.postMessage(collection);</span><br></pre></td></tr></table></figure></li>
<li>Here’s an example of a worker that can wait for a long period of time before it is given a task:<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; parentPort &#125; <span class="keyword">from</span> <span class="string">&#x27;worker_threads&#x27;</span>;</span><br><span class="line">parentPort.on(<span class="string">&#x27;message&#x27;</span>, <span class="function">(<span class="params">data: any</span>) =&gt;</span> &#123;</span><br><span class="line"> <span class="keyword">const</span> result = doSomething(data);</span><br><span class="line"> parentPort.postMessage(result);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<a target="_blank" rel="noopener" href="https://blog.logrocket.com/a-complete-guide-to-threads-in-node-js-4fa3898fe74f/">source</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mateuszroth.github.io/blog/2021/06/29/Nodejs/Nodejs-threads/" data-id="ckqp6o9e3001kzbr145fp3eef" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/Backend/" rel="tag">Backend</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/Node-js/" rel="tag">Node.js</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Mobile/Mobile-Swift" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2020/12/22/Mobile/Mobile-Swift/" class="article-date">
  <time datetime="2020-12-22T19:00:00.000Z" itemprop="datePublished">2020-12-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/Mobile/">Mobile</a>►<a class="article-category-link" href="/blog/categories/Mobile/Swift/">Swift</a>►<a class="article-category-link" href="/blog/categories/Mobile/Swift/iOS/">iOS</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2020/12/22/Mobile/Mobile-Swift/">Notes on Swift</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Combine"><a href="#Combine" class="headerlink" title="Combine"></a>Combine</h2><h3 id="Combine-schedulers-receive-and-subscribe"><a href="#Combine-schedulers-receive-and-subscribe" class="headerlink" title="Combine schedulers .receive and .subscribe"></a>Combine schedulers <code>.receive</code> and <code>.subscribe</code></h3><p>Combine allows for publishers to specify the scheduler used when either receiving from an upstream publisher (in the case of operators), or when sending to a downstream subscriber. This is critical when working with a subscriber that updates UI elements, as that should always be called on the main thread.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">somePublisher</span><br><span class="line">    .subscribe(on: <span class="type">DispatchQueue</span>.global()) <span class="comment">// to subscribe on background thread</span></span><br><span class="line">    .receive(on: <span class="type">RunLoop</span>.main) <span class="comment">// but receive results on main thread as we need it for some UI updates</span></span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>
<h3 id="Future-with-Deferred"><a href="#Future-with-Deferred" class="headerlink" title="Future with Deferred"></a><code>Future</code> with <code>Deferred</code></h3><p>If you want your <code>Future</code> to act more like Rx’s <code>Single</code> by having it defer its execution until it receives a subscriber, and having the work execute every time you subscribe you can wrap your <code>Future</code> in a <code>Deferred</code> publisher. Let’s expand the previous example a bit to demonstrate this:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">createFuture</span><span class="params">()</span></span> -&gt; <span class="type">AnyPublisher</span>&lt;<span class="type">Int</span>, <span class="type">Never</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">Deferred</span> &#123;</span><br><span class="line">        <span class="type">Future</span> &#123; promise <span class="keyword">in</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;Closure executed&quot;</span>)</span><br><span class="line">            promise(.success(<span class="number">42</span>))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;.eraseToAnyPublisher()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> future = createFuture()  <span class="comment">// nothing happens yet</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> sub1 = future.sink(receiveValue: &#123; value <span class="keyword">in</span> </span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;sub1: \(value)&quot;</span>)</span><br><span class="line">&#125;) <span class="comment">// the Future executes because it has a subscriber</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> sub2 = future.sink(receiveValue: &#123; value <span class="keyword">in</span> </span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;sub2: \(value)&quot;</span>)</span><br><span class="line">&#125;) <span class="comment">// the Future executes again because it received another subscriber</span></span><br></pre></td></tr></table></figure>
<p>source: <a target="_blank" rel="noopener" href="https://www.donnywals.com/using-promises-and-futures-in-combine/">https://www.donnywals.com/using-promises-and-futures-in-combine/</a></p>
<h2 id="SwiftUI"><a href="#SwiftUI" class="headerlink" title="SwiftUI"></a>SwiftUI</h2><h3 id="Aligning-with-alignmentGuide"><a href="#Aligning-with-alignmentGuide" class="headerlink" title="Aligning with .alignmentGuide"></a>Aligning with <code>.alignmentGuide</code></h3><p>To make for example one text align to the left and one to the right within a container, you can use <code>alignmentGuide</code> as below.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">VStack</span>(alignment: .leading) &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Hello, world!&quot;</span>)</span><br><span class="line">        .alignmentGuide(.leading) &#123; d <span class="keyword">in</span> d[.trailing] &#125;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;This is a longer line of text&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">    .background(<span class="type">Color</span>.red)</span><br><span class="line">    .frame(width: <span class="number">400</span>, height: <span class="number">400</span>)</span><br><span class="line">    .background(<span class="type">Color</span>.blue)</span><br></pre></td></tr></table></figure>
<p><img src="/blog/2020/12/22/Mobile/Mobile-Swift/SwiftUI-alignmentGuide.png" alt="SwiftUI alignmentGuide example"></p>
<p>source: <a target="_blank" rel="noopener" href="https://www.hackingwithswift.com/books/ios-swiftui/alignment-and-alignment-guides">https://www.hackingwithswift.com/books/ios-swiftui/alignment-and-alignment-guides</a></p>
<h3 id="Initialize-State-from-initializer"><a href="#Initialize-State-from-initializer" class="headerlink" title="Initialize @State from initializer"></a>Initialize <code>@State</code> from initializer</h3><p>SwiftUI doesn’t allow you to change <code>@State</code> in the initializer but you can initialize it.</p>
<p>Remove the default value and use <code>_valueName</code> to set <code>@State</code> directly instead of going through the property wrapper accessor.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@<span class="type">State</span> <span class="keyword">var</span> fullText: <span class="type">String</span> <span class="comment">// No default value of &quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">init</span>(letter: <span class="type">String</span>) &#123;</span><br><span class="line">    _fullText = <span class="type">State</span>(initialValue: list[letter]!)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>source: <a target="_blank" rel="noopener" href="https://stackoverflow.com/a/58137096">https://stackoverflow.com/a/58137096</a></p>
<h2 id="Async-code-DispatchQueue"><a href="#Async-code-DispatchQueue" class="headerlink" title="Async code. DispatchQueue"></a>Async code. DispatchQueue</h2><h3 id="Use-DispatchQueue-to-print-something-after-1-second"><a href="#Use-DispatchQueue-to-print-something-after-1-second" class="headerlink" title="Use DispatchQueue to print something after 1 second"></a>Use DispatchQueue to print something after 1 second</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">DispatchQueue</span>.main.asyncAfter(deadline: .now() + <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Timer fired!&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Timer"><a href="#Timer" class="headerlink" title="Timer"></a>Timer</h2><h3 id="Basic-usage-of-scheduled-timer"><a href="#Basic-usage-of-scheduled-timer" class="headerlink" title="Basic usage of scheduled timer"></a>Basic usage of scheduled timer</h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> runCount = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="type">Timer</span>.scheduledTimer(withTimeInterval: <span class="number">1.0</span>, repeats: <span class="literal">true</span>) &#123; timer <span class="keyword">in</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Timer fired!&quot;</span>)</span><br><span class="line">    runCount += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> runCount == <span class="number">3</span> &#123;</span><br><span class="line">        timer.invalidate()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Example-of-using-Timer-within-SwiftUI’s-ObservableObject"><a href="#Example-of-using-Timer-within-SwiftUI’s-ObservableObject" class="headerlink" title="Example of using Timer within SwiftUI’s ObservableObject"></a>Example of using Timer within SwiftUI’s <code>ObservableObject</code></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TimeCounter</span>: <span class="title">ObservableObject</span> </span>&#123;</span><br><span class="line">    @<span class="type">Published</span> <span class="keyword">var</span> time = <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">lazy</span> <span class="keyword">var</span> timer = <span class="type">Timer</span>.scheduledTimer(withTimeInterval: <span class="number">1</span>, repeats: <span class="literal">true</span>) &#123; <span class="keyword">_</span> <span class="keyword">in</span> <span class="keyword">self</span>.time += <span class="number">1</span> &#125;</span><br><span class="line">    <span class="keyword">init</span>() &#123; timer.fire() &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ContentView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    @<span class="type">StateObject</span> <span class="keyword">var</span> timeCounter = <span class="type">TimeCounter</span>()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">Text</span>(<span class="string">&quot;\(timeCounter.time)&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Swift-language-quirks"><a href="#Swift-language-quirks" class="headerlink" title="Swift language quirks"></a>Swift language quirks</h2><h3 id="Self-vs-self"><a href="#Self-vs-self" class="headerlink" title="Self vs self"></a><code>Self</code> vs <code>self</code></h3><p>When used with a capital S, <code>Self</code> refers to the type that conform to the protocol, e.g. <code>String</code> or <code>Int</code>. When used with a lowercase S, <code>self</code> refers to the value inside that type, e.g. <code>“hello”</code> or <code>556</code>.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">BinaryInteger</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">squared</span><span class="params">()</span></span> -&gt; <span class="type">Self</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span> * <span class="keyword">self</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="class-func-vs-static-func-functions"><a href="#class-func-vs-static-func-functions" class="headerlink" title="class func vs static func functions"></a><code>class func</code> vs <code>static func</code> functions</h3><p>Protocols use the <code>class</code> keyword, but it doesn’t exclude structs from implementing the protocol, they just use <code>static</code> instead. Class was chosen for protocols so there wouldn’t have to be a third keyword to represent <code>static</code> or <code>class</code>. That’s the main difference but some other differences are that class functions are dynamically dispatched and can be overridden by subclasses.</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ClassA</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">func1</span>() -&gt; <span class="title">String</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;func1&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">func2</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;func2&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* same as above</span></span><br><span class="line"><span class="comment">    final class func func2() -&gt; String &#123;</span></span><br><span class="line"><span class="comment">        return &quot;func2&quot;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ClassB</span> : <span class="title">ClassA</span> </span>&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">func1</span>() -&gt; <span class="title">String</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;func1 in ClassB&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ERROR: Class method overrides a &#x27;final` class method</span></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">func2</span><span class="params">()</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;func2 in ClassB&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://mateuszroth.github.io/blog/2020/12/22/Mobile/Mobile-Swift/" data-id="ckqp6o9dy0017zbr181k2hhm3" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/Mobile/" rel="tag">Mobile</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/Swift/" rel="tag">Swift</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/iOS/" rel="tag">iOS</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Software Engineering/Software-Engineering-notes" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2020/07/18/Software%20Engineering/Software-Engineering-notes/" class="article-date">
  <time datetime="2020-07-18T08:00:00.000Z" itemprop="datePublished">2020-07-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/Software-Engineering/">Software Engineering</a>►<a class="article-category-link" href="/blog/categories/Software-Engineering/Basics/">Basics</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2020/07/18/Software%20Engineering/Software-Engineering-notes/">Software Engineering notes</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Truths"><a href="#Truths" class="headerlink" title="Truths"></a>Truths</h1><ul>
<li>Product teams focusing on velocity may argue that in the future they will reach a place where they have time to circle back to fix technical debt. This is never true, there is always pressure. A team needs to consciously decide to make stability a part of value delivery, otherwise lack of stability will become part of the team’s culture.</li>
<li>A mistake early on in the project regarding the architecture may cost a lot in terms of time spent refactoring the codebase later.</li>
</ul>
<h1 id="Codebase-architecture-approaches"><a href="#Codebase-architecture-approaches" class="headerlink" title="Codebase architecture approaches"></a>Codebase architecture approaches</h1><ul>
<li><a target="_blank" rel="noopener" href="https://alistair.cockburn.us/hexagonal-architecture/">Hexagonal Architecture</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html">The Clean Architecture</a>:<ul>
<li>(Recommended architecture approaches) They all have the same objective, which is the <strong>separation of concerns</strong>. They all achieve this <strong>separation by dividing the software into layers</strong>. Each has at least one layer for business rules, and another for interfaces.</li>
<li>Independent of Frameworks</li>
<li>Testable</li>
<li>Independent of UI</li>
<li>Independent of Database</li>
<li>Independent of any external agency</li>
<li>Overall: The Dependency Rule always applies. Source code dependencies always point inwards. As you move inwards the level of abstraction increases. The outermost circle is low level concrete detail. As you move inwards the software grows more abstract, and encapsulates higher level policies. The inner most circle is the most general.</li>
</ul>
</li>
</ul>
<h1 id="GoF-Rules"><a href="#GoF-Rules" class="headerlink" title="GoF Rules"></a>GoF Rules</h1><ul>
<li>“<strong>Program to an ‘interface’</strong>, not an ‘implementation’.” (Gang of Four 1995:18)<ul>
<li>clients remain unaware of the specific types of objects they use, as long as the object adheres to the interface</li>
<li>clients remain unaware of the classes that implement these objects; <strong>clients only know about the abstract class(es) defining the interface</strong></li>
<li>Use of an interface also leads to dynamic binding and polymorphism, which are central features of object-oriented programming.</li>
</ul>
</li>
<li><strong>Composition over inheritance</strong>: “Favor ‘object composition’ over ‘class inheritance’.” (Gang of Four 1995:20)<ul>
<li>The authors refer to inheritance as white-box reuse, with white-box referring to visibility, because the internals of parent classes are often visible to subclasses. In contrast, the authors refer to object composition (in which objects with well-defined interfaces are used dynamically at runtime by objects obtaining references to other objects) as black-box reuse because no internal details of composed objects need be visible in the code using them.</li>
<li>The authors discuss the <strong>tension between inheritance and encapsulation</strong> at length and state that in their experience, <strong>designers overuse inheritance</strong> (Gang of Four 1995:20).</li>
<li>“Because <strong>inheritance exposes a subclass to details of its parent’s implementation, it’s often said that ‘inheritance breaks encapsulation’</strong>“. (Gang of Four 1995:19).</li>
<li>They <strong>warn that the implementation of a subclass can become so bound up with the implementation of its parent class that any change in the parent’s implementation will force the subclass to change</strong>.</li>
<li>Furthermore, they claim that a way to avoid this is to inherit only from abstract classes—but then, they point out that there is minimal code reuse.</li>
<li>Using inheritance is recommended mainly when adding to the functionality of existing components, reusing most of the old code and adding relatively small amounts of new code.</li>
</ul>
</li>
<li>“Dynamic, highly parameterized software is harder to understand and build than more static software.” (Gang of Four 1995:21)</li>
<li>The authors further distinguish between ‘Aggregation’, where one object ‘has’ or ‘is part of’ another object (implying that an aggregate object and its owner have identical lifetimes) and acquaintance, where one object merely ‘knows of’ another object. <ul>
<li>Acquaintance is a weaker relationship than aggregation and suggests much looser coupling between objects, which can often be desirable for maximum maintainability in a design.</li>
</ul>
</li>
<li>A primary criticism of Design Patterns is that its patterns are simply workarounds for missing features in C++, replacing elegant abstract features with lengthy concrete patterns, essentially becoming a “human compiler” or “generating by hand the expansions of some macro”.</li>
</ul>
<h1 id="Design-Patterns"><a href="#Design-Patterns" class="headerlink" title="Design Patterns"></a>Design Patterns</h1><p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Software_design_pattern#Classification_and_list">List of design patterns</a><br><a target="_blank" rel="noopener" href="https://www.raywenderlich.com/470-common-design-patterns-for-android-with-kotlin">Source #1 - Common Design Patterns for Android with Kotlin</a></p>
<h2 id="Creational-patterns"><a href="#Creational-patterns" class="headerlink" title="Creational patterns"></a>Creational patterns</h2><p>They define how you create objects.</p>
<ul>
<li><strong>Builder</strong></li>
<li><strong>Dependency Injection</strong> - explained below</li>
<li><strong>Singleton</strong></li>
</ul>
<h2 id="Structural-patterns"><a href="#Structural-patterns" class="headerlink" title="Structural patterns"></a>Structural patterns</h2><p>They define how you compose objects.</p>
<ul>
<li><strong>Adapter</strong> - this pattern lets two incompatible classes work together by converting the interface of a class into another interface the client expect</li>
<li><strong>Facade</strong> - The Facade pattern provides a higher-level interface that makes a set of other interfaces easier to use -&gt; for example a repository in Android project can be a facade</li>
<li><strong>DAO</strong> - a design pattern for writing objects that access data<ul>
<li>You should use DAOs. The pattern lends itself to <strong>modularized</strong> code. You keep all your persistence logic in one place (separation of concerns, fight leaky abstractions). You allow yourself to test data access separately from the rest of the application. And you allow yourself to test the rest of the application isolated from data access (i.e. you can mock your DAOs).</li>
</ul>
</li>
</ul>
<h2 id="Behavioral-patterns"><a href="#Behavioral-patterns" class="headerlink" title="Behavioral patterns"></a>Behavioral patterns</h2><p>They define how you coordinate object interactions.</p>
<ul>
<li><strong>Command</strong> - Similarly, the Command pattern lets you issue requests without knowing the receiver. You encapsulate a request as an object and send it off; deciding how to complete the request is an entirely separate mechanism.<ul>
<li><img src="https://koenig-media.raywenderlich.com/uploads/2015/07/EventBus-Publish-Subscribe.png" width="500px"></li>
<li><a target="_blank" rel="noopener" href="https://www.raywenderlich.com/470-common-design-patterns-for-android-with-kotlin#toc-anchor-010">How to create event bus</a></li>
</ul>
</li>
<li><strong>Observer</strong> - The Observer pattern defines a one-to-many dependency between objects. When one object changes state, all of its dependents are notified and updated automatically.</li>
<li><strong>Model View Controller</strong></li>
<li><strong>Model View ViewModel</strong> - The ViewModel object is the “glue” between the model and view layers, but <strong>operates differently than the Controller component. Instead, it exposes commands for the view and binds the view to the model. When the model updates, the corresponding views update as well via the data binding</strong>. Similarly, as the user interacts with the view, the bindings work in the opposite direction to automatically update the model. This reactive pattern removes a lot of glue code.</li>
</ul>
<h3 id="Dependency-Injection-amp-Dependency-Inversion-principle-explained"><a href="#Dependency-Injection-amp-Dependency-Inversion-principle-explained" class="headerlink" title="Dependency Injection &amp; Dependency Inversion principle explained"></a>Dependency Injection &amp; Dependency Inversion principle explained</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> child = Child()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>A <code>Parent</code> instance creates its child field when it’s instantiated. The <code>Parent</code> instance is dependent on the concrete implementation of <code>Child</code> and on configuring the child field to use it.</p>
<p><strong>This presents a coupling or dependency of the <code>Parent</code> class on the <code>Child</code> class</strong>. If the setup of a <code>Child</code> object is complex, all that complexity will be reflected within the <code>Parent</code> class as well. You will need to edit <code>Parent</code> to configure a <code>Child</code> object.</p>
<p>If the <code>Child</code> class itself depends on a class <code>C</code>, which in turn depends on class <code>D</code>, then all that complexity will propagate throughout the code base and hence result in a tight coupling between the components of the application.</p>
<p><strong>Dependency Injection is the term used to describe the technique of loosening the coupling</strong> just described. In the simple example above, only one tiny change is needed:</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span></span>(<span class="keyword">private</span> <span class="keyword">val</span> child: Child)</span><br></pre></td></tr></table></figure>
<p>Voilà — that’s dependency injection at its core!</p>
<p>There is also <strong>Dependency Inversion principle</strong>. The gist of the Dependency Inversion principle is that <strong>it is important to depend on abstractions rather than concrete implementations</strong>. In the simple example above, this means changing <code>Child</code> to a Kotlin interface rather than a <code>Kotlin</code> class. With this change, many different types of concrete <code>Child</code> type objects that adhere to the <code>Child</code> interface can be passed into the <code>Parent</code> constructor.</p>
<p><a target="_blank" rel="noopener" href="https://www.raywenderlich.com/262-dependency-injection-in-android-with-dagger-2-and-kotlin#toc-anchor-003">Source - Dependency Injection in Android with Dagger 2 and Kotlin</a></p>
<h1 id="Empty-variables-interpretation"><a href="#Empty-variables-interpretation" class="headerlink" title="Empty variables interpretation"></a>Empty variables interpretation</h1><ul>
<li><code>null</code> means nothing - we want no value</li>
<li><code>undefined</code> declared but not defined - we want default value</li>
</ul>
<h1 id="Qualities-of-well-written-code"><a href="#Qualities-of-well-written-code" class="headerlink" title="Qualities of well written code"></a>Qualities of well written code</h1><p>Write a code like someone after you who you don’t know would read the code.</p>
<p>Well written code is easy to maintain, easy to test, very cohesive, decoupled and redable.</p>
<ul>
<li>readability / understandability (czytelność, zrozumiałość) vs obscurity (zaciemnienie)</li>
<li>clean, readable and concise code - czysty, czytelny, zwięzły kod</li>
<li>complexity (złożoność)</li>
<li>maintainability (utrzymywalność)</li>
<li>reliability / testability (niezawodność, testowalność)</li>
<li>reusability - decoupled and reusable code is preferred</li>
<li>coupling and code interdependence</li>
<li>performance</li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/No_Silver_Bullet">https://en.wikipedia.org/wiki/No_Silver_Bullet</a> essential vs accident complexity</li>
<li>robustness - the ability of a computer system to cope with errors during execution and cope with erroneous input</li>
<li>concise vs explicit</li>
<li><strong>abstractions are bad</strong></li>
</ul>
<p>PEP20 — The Zen of Python<br><a target="_blank" rel="noopener" href="https://www.python.org/dev/peps/pep-0020/">https://www.python.org/dev/peps/pep-0020</a>/</p>
<h1 id="System-infrastructure"><a href="#System-infrastructure" class="headerlink" title="System infrastructure"></a>System infrastructure</h1><ul>
<li>scalability - skalowalność</li>
<li>performance - wydajność</li>
<li>stability - stabilność</li>
<li>reliability - niezawodność</li>
<li>flexibility - jak łatwo się zmienia np. w przypadku mikroserwisów ilość jednostek jednego komponentu/serwisu, czy np. zmiana usługodawcy</li>
</ul>
<h1 id="Terms"><a href="#Terms" class="headerlink" title="Terms"></a>Terms</h1><ul>
<li>function declaration vs definition, parameter type, return type</li>
</ul>
<h2 id="coupling-miara-wspolzaleznosci"><a href="#coupling-miara-wspolzaleznosci" class="headerlink" title="coupling (miara współzależności)"></a>coupling (miara współzależności)</h2><p>In software engineering, <strong>coupling</strong> is <strong>the degree of interdependence between software modules</strong>; a <strong>measure of how closely connected two routines or modules are</strong>; <em>the strength of the relationships</em> between modules.</p>
<p>Coupling is usually <strong>contrasted with cohesion</strong>. <strong>Low coupling often correlates with high cohesion</strong>, and vice versa. Low coupling is often a sign of a <strong>well-structured computer system and a good design</strong>, and when combined with high cohesion, supports the general goals of high readability and maintainability.</p>
<h2 id="cohesion-miara-spojnosci"><a href="#cohesion-miara-spojnosci" class="headerlink" title="cohesion (miara spójności)"></a>cohesion (miara spójności)</h2><p>In computer programming, cohesion refers to <strong>the degree to which the elements inside a module belong together</strong>. In one sense, it is a measure of the strength of relationship between the methods and data of a class and some unifying purpose or concept served by that class. In another sense, it is a measure of the strength of relationship between the class’s methods and data themselves.</p>
<p>Cohesion is an ordinal type of measurement and is usually described as “high cohesion” or “low cohesion”. Modules with high cohesion tend to be preferable, because <strong>high cohesion is associated with several desirable traits of software including robustness, reliability, reusability, and understandability</strong>. In contrast, low cohesion is associated with undesirable traits such as being difficult to maintain, test, reuse, or even understand.</p>
<h2 id="loose-coupling"><a href="#loose-coupling" class="headerlink" title="loose coupling"></a>loose coupling</h2><p>In computing and systems design a loosely coupled system is one in which each of its components has, or makes use of, <strong>little or no knowledge of the definitions of other separate components</strong>. Subareas include the coupling of classes, interfaces, data, and services. Loose coupling is the opposite of tight coupling.</p>
<h2 id="big-ball-of-mud"><a href="#big-ball-of-mud" class="headerlink" title="big ball of mud"></a>big ball of mud</h2><p>A <strong>big ball of mud</strong> is a software system that <strong>lacks a perceivable architecture</strong>. Although undesirable from a software engineering point of view, such systems are common in practice due to <strong>business pressures, developer turnover and code entropy</strong>. They are a type of design anti-pattern.</p>
<h2 id="software-entropy"><a href="#software-entropy" class="headerlink" title="software entropy"></a>software entropy</h2><p>The second law of thermodynamics, in principle, states that a closed system’s disorder cannot be reduced, <strong>it can only remain unchanged or increase</strong>. A measure of this disorder is entropy. This law also seems plausible for software systems; <strong>as a system is modified, its disorder, or entropy, tends to increase. This is known as software entropy</strong>.</p>
<p>The process of code refactoring can result in stepwise reductions in software entropy.</p>
<p><strong>Software rot,</strong> also known as code rot, software erosion, software decay or software entropy is either a slow deterioration of software performance over time or its diminishing responsiveness that will eventually lead to software becoming faulty, unusable, or in need of upgrade.</p>
<h2 id="feature-creep"><a href="#feature-creep" class="headerlink" title="feature creep"></a>feature creep</h2><p><strong>Feature creep is the excessive ongoing expansion or addition of new features in a product,</strong>[1] especially in computer software, videogames and consumer and business electronics. These extra features go beyond the basic function of the product and can result in software bloat and over-complication, rather than simple design.</p>
<h2 id="software-brittleness"><a href="#software-brittleness" class="headerlink" title="software brittleness"></a>software brittleness</h2><p>In computer programming and software engineering, software brittleness is the increased difficulty in fixing older software that may appear reliable, <strong>but fails badly when presented with unusual data or altered in a seemingly minor way</strong>. </p>
<h2 id="first-class-functions"><a href="#first-class-functions" class="headerlink" title="first-class functions"></a>first-class functions</h2><p>In computer science, a programming language is said to have first-class functions if it <strong>treats functions as first-class citizens</strong>. This means the language supports <strong>passing functions as arguments to other functions, returning them as the values from other functions, and assigning them to variables or storing them in data structures</strong>.[1] Some programming language theorists require support for anonymous functions (function literals) as well.[2] In languages with first-class functions, the names of functions do not have any special status; they are treated like ordinary variables with a function type.[3]<br>First-class functions are a necessity for the <a target="_blank" rel="noopener" href="https://en.m.wikipedia.org/wiki/Functional_programming">functional programming</a> style, in which the use of <a target="_blank" rel="noopener" href="https://en.m.wikipedia.org/wiki/Higher-order_function">higher-order functions</a> is a standard practice. A simple example of a higher-ordered function is the <a target="_blank" rel="noopener" href="https://en.m.wikipedia.org/wiki/Map_(higher-order_function)">map</a> function, which takes, as its arguments, a function and a list, and returns the list formed by applying the function to each member of the list. For a language to support <em>map</em>, it must support passing a function as an argument.<br>Source <a target="_blank" rel="noopener" href="https://en.m.wikipedia.org/wiki/First-class_function">https://en.m.wikipedia.org/wiki/First-class_function</a></p>
<h2 id="higher-order-function"><a href="#higher-order-function" class="headerlink" title="higher order function"></a>higher order function</h2><p>a function taking another function as argument is called a higher-order function</p>
<h1 id="Authorization-vs-Authentication"><a href="#Authorization-vs-Authentication" class="headerlink" title="Authorization vs Authentication"></a>Authorization vs Authentication</h1><p>• <strong>Authentication</strong> describes the process of claiming an identity. That’s what you do when you log in to a service with a username and password, you authenticate yourself.<br>• <strong>Authorization</strong> on the other hand describes permission rules that specify the access rights of individual users and user groups to certain parts of the system.</p>
<h1 id="Software-problems"><a href="#Software-problems" class="headerlink" title="Software problems"></a>Software problems</h1><ul>
<li>business pressures</li>
<li>developer turnover</li>
<li>code entropy</li>
<li>developers productivity</li>
<li>errors tracking and detecting</li>
<li>infrastructure cost and predicting spikes</li>
<li>development cost</li>
<li>enterprise level app - is computer software used to satisfy the needs of an organization rather than individual users</li>
</ul>
<h1 id="Languages-features"><a href="#Languages-features" class="headerlink" title="Languages features"></a>Languages features</h1><ul>
<li>pros if language offers excellent <strong>code analysis support</strong> and <strong>comprehensive editors/IDEs</strong></li>
<li>pros if language offers <strong>developing</strong>, <strong>refactoring</strong> and <strong>debugging</strong> is fast and easy</li>
<li>pros if language offers <strong>strict type system</strong> and <strong>compile-time error checks</strong>, C# is more potent than JavaScript</li>
</ul>
<h1 id="Uncommon-terms"><a href="#Uncommon-terms" class="headerlink" title="Uncommon terms"></a>Uncommon terms</h1><ul>
<li><strong>Monkey patching</strong><br><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Monkey_patch">https://en.wikipedia.org/wiki/Monkey_patch</a><br><a target="_blank" rel="noopener" href="https://www.audero.it/blog/2016/12/05/monkey-patching-javascript/">https://www.audero.it/blog/2016/12/05/monkey-patching-javascript/</a></li>
<li><strong>Domain-driven design (skrót DDD)</strong> – podejście do tworzenia oprogramowania kładące nacisk na takie definiowanie obiektów i komponentów systemu oraz ich zachowań, aby wiernie odzwierciedlały rzeczywistość. Dopiero po utworzeniu takiego modelu należy rozważyć zagadnienia związane z techniczną realizacją. Podejście to umożliwia modelowanie systemów informatycznych przez ekspertów, którzy znają specyfikę problemu, lecz nie muszą znać się na projektowaniu architektury systemów informatycznych.</li>
<li><strong>Command–query separation (CQS)</strong> is a principle of imperative computer programming. It was devised by Bertrand Meyer as part of his pioneering work on the Eiffel programming language. It states that every method should either be a command that performs an action, or a query that returns data to the caller, but not both. In other words, Asking a question should not change the answer.[1] More formally, methods should return a value only if they are referentially transparent and hence possess no side effects.</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mateuszroth.github.io/blog/2020/07/18/Software%20Engineering/Software-Engineering-notes/" data-id="ckqp6o9go008azbr14vdr6skt" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/Software-Engineering/" rel="tag">Software Engineering</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-React/DRAFT-React-Hooks" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2020/07/17/React/DRAFT-React-Hooks/" class="article-date">
  <time datetime="2020-07-17T19:25:00.000Z" itemprop="datePublished">2020-07-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/React/">React</a>►<a class="article-category-link" href="/blog/categories/React/Hooks/">Hooks</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2020/07/17/React/DRAFT-React-Hooks/">React Hooks</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="React-Hooks"><a href="#React-Hooks" class="headerlink" title="React Hooks"></a>React Hooks</h1><h2 id="Methods"><a href="#Methods" class="headerlink" title="Methods"></a>Methods</h2><ul>
<li>basic hooks: <code>useState</code>, <code>useEffect</code>, <code>useContext</code></li>
<li>additional: <code>useReducer</code>, <code>useCallback</code>, <code>useMemo</code>, <code>useRef</code>, <code>useImperativeHandle</code>, <code>useLayoutEffect</code>, <code>useDebugValue</code></li>
</ul>
<h3 id="setState"><a href="#setState" class="headerlink" title="setState"></a><code>setState</code></h3><ul>
<li>Unlike the <code>setState</code> method found in class components, <code>useState</code> does not automatically merge update objects.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">setState(prevState &#x3D;&gt; &#123;</span><br><span class="line">  &#x2F;&#x2F; Object.assign would also work</span><br><span class="line">  return &#123;...prevState, ...updatedValues&#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>Another option is <code>useReducer</code>, which is more suited for managing state objects that contain multiple sub-values.</li>
<li><code>setState</code> - If the initial state is the result of an expensive computation, you may provide a function instead, which will be executed only on the initial render</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const [state, setState] &#x3D; useState(() &#x3D;&gt; &#123;</span><br><span class="line">  const initialState &#x3D; someExpensiveComputation(props);</span><br><span class="line">  return initialState;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="useEffect"><a href="#useEffect" class="headerlink" title="useEffect"></a><code>useEffect</code></h3><ul>
<li>you should call hooks at the top level of the render function, this means no conditional hooks</li>
<li>a second argument to <code>useEffect</code> that is the array of values that the effect depends on:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">useEffect(</span><br><span class="line">  () &#x3D;&gt; &#123;</span><br><span class="line">    const subscription &#x3D; props.source.subscribe();</span><br><span class="line">    return () &#x3D;&gt; &#123;</span><br><span class="line">      subscription.unsubscribe();</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  [props.source],</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h3 id="useMemo"><a href="#useMemo" class="headerlink" title="useMemo"></a><code>useMemo</code></h3><ul>
<li>If you’re doing expensive calculations while rendering, you can optimize them with <code>useMemo</code>.</li>
</ul>
<h2 id="React-Hooks-advantages"><a href="#React-Hooks-advantages" class="headerlink" title="React Hooks advantages"></a>React Hooks advantages</h2><ul>
<li>hooks are easier to test (as separated functions) and make the code look cleaner/easier to read (i.e. less LOCs)</li>
<li>code that uses hooks is more readable and have less LOC (<a target="_blank" rel="noopener" href="https://m.habr.com/en/post/443500/">https://m.habr.com/en/post/443500/</a>)</li>
<li>hooks make code more reusable / composable (also they don’t create another element in DOM like HOCs do)</li>
<li>you can define several seperate lifecycle methods instead of having all in one method</li>
<li>hooks are going to work better with future React optimizations (like ahead of time compilation and components folding) - components folding in future (<a target="_blank" rel="noopener" href="https://github.com/facebook/react/issues/7323">https://github.com/facebook/react/issues/7323</a>) - what means dead code elimination at compile time (less JS code to download, less to execute)</li>
<li>hooks show real nature of React which is functional, using classes make developer easier to do mistakes and use React antipatterns</li>
<li>hooks are very convenient to re-use stateful logic, this is one of their selling point. But this not applicable when app is built using some state management library and stateful logic doesn’t live in React components. So for desktop in its current state hooks are mostly for readability and to make it future-proof.</li>
<li>With HOCs we are separating unrelated state logic into different functions and injecting them into the main component as props, although with Hooks, we can solve this just like HOCs but without a wrapper hell (<a target="_blank" rel="noopener" href="https://cdn-images-1.medium.com/max/2000/1*t4NuFEZWHcfPHV_f487GRA.png">https://cdn-images-1.medium.com/max/2000/1*t4NuFEZWHcfPHV_f487GRA.png</a>)</li>
</ul>
<h2 id="React-Hooks-vs-HOCs-and-render-props"><a href="#React-Hooks-vs-HOCs-and-render-props" class="headerlink" title="React Hooks vs HOCs and render props"></a>React Hooks vs HOCs and render props</h2><ul>
<li><a target="_blank" rel="noopener" href="https://www.freecodecamp.org/news/why-react-hooks-and-how-did-we-even-get-here-aa5ed5dc96af/">https://www.freecodecamp.org/news/why-react-hooks-and-how-did-we-even-get-here-aa5ed5dc96af/</a></li>
<li><a target="_blank" rel="noopener" href="https://cdn-images-1.medium.com/max/800/1*skhvS29DZ6sBkCPBmaMz7g.png">https://cdn-images-1.medium.com/max/800/1*skhvS29DZ6sBkCPBmaMz7g.png</a></li>
<li>mixins <a target="_blank" rel="noopener" href="https://cdn-images-1.medium.com/max/800/1*nkp3K5sbw6FuGvoLofVk8g.png">https://cdn-images-1.medium.com/max/800/1*nkp3K5sbw6FuGvoLofVk8g.png</a></li>
<li>hocs <a target="_blank" rel="noopener" href="https://cdn-images-1.medium.com/max/800/1*qJZXnzuAgXQsSoibXZH6Zg.png">https://cdn-images-1.medium.com/max/800/1*qJZXnzuAgXQsSoibXZH6Zg.png</a></li>
<li>render props <a target="_blank" rel="noopener" href="https://cdn-images-1.medium.com/max/800/1*ii7bRuk2u7jBqunmIzwGrQ.png">https://cdn-images-1.medium.com/max/800/1*ii7bRuk2u7jBqunmIzwGrQ.png</a></li>
<li>hooks <a target="_blank" rel="noopener" href="https://cdn-images-1.medium.com/max/800/1*11zyjavrNZlqDypso2EaeQ.png">https://cdn-images-1.medium.com/max/800/1*11zyjavrNZlqDypso2EaeQ.png</a></li>
</ul>
<h2 id="Function-Components-and-Hooks-in-TypeScript-example"><a href="#Function-Components-and-Hooks-in-TypeScript-example" class="headerlink" title="Function Components and Hooks in TypeScript example"></a>Function Components and Hooks in TypeScript example</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; import useState next to FunctionComponent</span><br><span class="line">import React, &#123; FunctionComponent, useState &#125; from &#39;react&#39;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; our components props accept a number for the initial value</span><br><span class="line">const Counter:FunctionComponent&lt;&#123; initial?: number &#125;&gt; &#x3D; (&#123; initial &#x3D; 0 &#125;) &#x3D;&gt; &#123;</span><br><span class="line">  &#x2F;&#x2F; since we pass a number here, clicks is going to be a number.</span><br><span class="line">  &#x2F;&#x2F; setClicks is a function that accepts either a number or a function returning</span><br><span class="line">  &#x2F;&#x2F; a number</span><br><span class="line">  const [clicks, setClicks] &#x3D; useState(initial);</span><br><span class="line">  return &lt;&gt;</span><br><span class="line">    &lt;p&gt;Clicks: &#123;clicks&#125;&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;button onClick&#x3D;&#123;() &#x3D;&gt; setClicks(clicks+1)&#125;&gt;+&lt;&#x2F;button&gt;</span><br><span class="line">    &lt;button onClick&#x3D;&#123;() &#x3D;&gt; setClicks(clicks-1)&#125;&gt;-&lt;&#x2F;button&gt;</span><br><span class="line">  &lt;&#x2F;&gt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Hooks-with-TypeScript"><a href="#Hooks-with-TypeScript" class="headerlink" title="Hooks with TypeScript"></a>Hooks with TypeScript</h2><ul>
<li>Examples how to use with TS: <a target="_blank" rel="noopener" href="https://fettblog.eu/typescript-react/hooks/">https://fettblog.eu/typescript-react/hooks/</a></li>
<li>TS advanced: <a target="_blank" rel="noopener" href="https://medium.com/@jrwebdev/react-hooks-in-typescript-88fce7001d0d">https://medium.com/@jrwebdev/react-hooks-in-typescript-88fce7001d0d</a></li>
<li>super advanced: <a target="_blank" rel="noopener" href="https://levelup.gitconnected.com/usetypescript-a-complete-guide-to-react-hooks-and-typescript-db1858d1fb9c">https://levelup.gitconnected.com/usetypescript-a-complete-guide-to-react-hooks-and-typescript-db1858d1fb9c</a></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const Counter:FunctionComponent&lt;&#123; initial?: number &#125;&gt; &#x3D; (&#123; initial &#x3D; 0 &#125;) &#x3D;&gt; &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="with-useState"><a href="#with-useState" class="headerlink" title="with useState"></a>with <code>useState</code></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; explicitly setting the types</span><br><span class="line">const [value, setValue] &#x3D; useState&lt;number | undefined&gt;(undefined);</span><br><span class="line">const [value, setValue] &#x3D; useState&lt;Array&lt;number&gt;&gt;([]);</span><br><span class="line"></span><br><span class="line">interface MyObject &#123;</span><br><span class="line">  foo: string;</span><br><span class="line">  bar?: number;</span><br><span class="line">&#125;</span><br><span class="line">const [value, setValue] &#x3D; useState&lt;MyObject&gt;(&#123; foo: &#39;hello&#39; &#125;);</span><br></pre></td></tr></table></figure>
<h3 id="with-useRef"><a href="#with-useRef" class="headerlink" title="with useRef"></a>with <code>useRef</code></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const inputEl &#x3D; useRef&lt;HTMLInputElement&gt;(null);</span><br></pre></td></tr></table></figure>
<h3 id="with-useContext"><a href="#with-useContext" class="headerlink" title="with useContext"></a>with <code>useContext</code></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">type Theme &#x3D; &#39;light&#39; | &#39;dark&#39;;</span><br><span class="line">const ThemeContext &#x3D; createContext&lt;Theme&gt;(&#39;dark&#39;);</span><br></pre></td></tr></table></figure>
<h3 id="with-useReducer"><a href="#with-useReducer" class="headerlink" title="with useReducer"></a>with <code>useReducer</code></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">interface State &#123;</span><br><span class="line">  value: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type Action &#x3D;</span><br><span class="line">  | &#123; type: &#39;increment&#39; &#125;</span><br><span class="line">  | &#123; type: &#39;decrement&#39; &#125;</span><br><span class="line">  | &#123; type: &#39;incrementAmount&#39;; amount: number &#125;;</span><br><span class="line"></span><br><span class="line">const counterReducer &#x3D; (state: State, action: Action) &#x3D;&gt; &#123;</span><br><span class="line">  switch (action.type) &#123;</span><br><span class="line">    case &#39;increment&#39;:</span><br><span class="line">      return &#123; value: state.value + 1 &#125;;</span><br><span class="line">    case &#39;decrement&#39;:</span><br><span class="line">      return &#123; value: state.value - 1 &#125;;</span><br><span class="line">    case &#39;incrementAmount&#39;:</span><br><span class="line">      return &#123; value: state.value + action.amount &#125;;</span><br><span class="line">    default:</span><br><span class="line">      throw new Error();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const [state, dispatch] &#x3D; useReducer(counterReducer, &#123; value: 0 &#125;);</span><br><span class="line"></span><br><span class="line">dispatch(&#123; type: &#39;increment&#39; &#125;);</span><br><span class="line">dispatch(&#123; type: &#39;decrement&#39; &#125;);</span><br><span class="line">dispatch(&#123; type: &#39;incrementAmount&#39;, amount: 10 &#125;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; TypeScript compilation error</span><br><span class="line">dispatch(&#123; type: &#39;invalidActionType&#39; &#125;);</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://mateuszroth.github.io/blog/2020/07/17/React/DRAFT-React-Hooks/" data-id="ckqp6o9e4001ozbr102do5ynj" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/React/" rel="tag">React</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/React-Hooks/" rel="tag">React Hooks</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-JavaScript/JavaScript-forin-forof-loops" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2020/07/17/JavaScript/JavaScript-forin-forof-loops/" class="article-date">
  <time datetime="2020-07-17T19:25:00.000Z" itemprop="datePublished">2020-07-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/JavaScript/">JavaScript</a>►<a class="article-category-link" href="/blog/categories/JavaScript/Basics/">Basics</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2020/07/17/JavaScript/JavaScript-forin-forof-loops/">JavaScript `for..in` `for..of` and other loops</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li><code>for..in</code> - iterates over keys of all objects - loops over enumerable property names of an object.</li>
<li><code>for..of</code> - iterates over values of iterable objects (Array, TypedArray, String, Map, Set) - does use an object-specific iterator and loops over the values generated by that.</li>
<li><code>forEach</code> - specific method for arrays</li>
<li><code>map</code> - specific method for arrays</li>
</ul>
<h2 id="Example-with-an-object"><a href="#Example-with-an-object" class="headerlink" title="Example with an object"></a>Example with an object</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; <span class="number">1</span>: <span class="number">1</span>, <span class="number">2</span>: <span class="literal">true</span>, <span class="number">3</span>: <span class="string">&quot;str&quot;</span> &#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">in</span> obj) <span class="built_in">console</span>.log(i) <span class="comment">// console logs 1, 2, 3</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> obj) <span class="built_in">console</span>.log(i) <span class="comment">// console error `Uncaught TypeError: obj is not iterable`</span></span><br><span class="line"></span><br><span class="line">obj[<span class="built_in">Symbol</span>.iterator] = <span class="function"><span class="keyword">function</span>*(<span class="params"></span>) </span>&#123; <span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">in</span> obj) <span class="keyword">yield</span> obj[i] &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> obj) <span class="built_in">console</span>.log(i) <span class="comment">// console logs 1, true, &quot;str&quot;</span></span><br></pre></td></tr></table></figure>
<h2 id="Example-with-a-set"><a href="#Example-with-a-set" class="headerlink" title="Example with a set"></a>Example with a set</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> pets = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">&quot;Cat&quot;</span>, <span class="string">&quot;Dog&quot;</span>, <span class="string">&quot;Hamster&quot;</span>])</span><br><span class="line">pets[<span class="string">&quot;species&quot;</span>] = <span class="string">&quot;mammals&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> pet <span class="keyword">in</span> pets) &#123;</span><br><span class="line">   <span class="built_in">console</span>.log(pet) <span class="comment">// &quot;species&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> pet <span class="keyword">of</span> pets) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(pet) <span class="comment">// &quot;Cat&quot;, &quot;Dog&quot;, &quot;Hamster&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Example-with-for-in-and-enumerable-method"><a href="#Example-with-for-in-and-enumerable-method" class="headerlink" title="Example with for..in and enumerable method"></a>Example with <code>for..in</code> and enumerable method</h2><p>Because <code>for..in</code> loops over all enumerable properties, this means if you add any additional properties to the array’s prototype, then those properties will also appear in the loop.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.decimalfy = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="built_in">this</span>.length; i++) &#123;</span><br><span class="line">    <span class="built_in">this</span>[i] = <span class="built_in">this</span>[i].toFixed(<span class="number">2</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> digits = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> index <span class="keyword">in</span> digits) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(digits[index]) <span class="comment">// it also print decimalfy function</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Above-for-for-of"><a href="#Above-for-for-of" class="headerlink" title="Above for for..of"></a>Above for <code>for..of</code></h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> digits = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> digit <span class="keyword">of</span> digits) &#123;</span><br><span class="line">  <span class="keyword">if</span> (digit % <span class="number">2</span> === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">continue</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(digit)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// prints 1, 3, 5, 7, 9</span></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://mateuszroth.github.io/blog/2020/07/17/JavaScript/JavaScript-forin-forof-loops/" data-id="ckqp6o9dj000lzbr1281cf1gy" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/JavaScript/" rel="tag">JavaScript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-React/DRAFT-React-MobX-vs-Redux" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2020/07/17/React/DRAFT-React-MobX-vs-Redux/" class="article-date">
  <time datetime="2020-07-17T19:25:00.000Z" itemprop="datePublished">2020-07-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/React/">React</a>►<a class="article-category-link" href="/blog/categories/React/State-management/">State management</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2020/07/17/React/DRAFT-React-MobX-vs-Redux/">MobX vs Redux</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li>MobX diagram: <a target="_blank" rel="noopener" href="https://github.com/mobxjs/mobx/blob/mobx6/docs/assets/flow.png">https://github.com/mobxjs/mobx/blob/mobx6/docs/assets/flow.png</a></li>
<li>MobX Github: <a target="_blank" rel="noopener" href="https://github.com/mobxjs/mobx">https://github.com/mobxjs/mobx</a></li>
<li>Flux vs Redux: <a target="_blank" rel="noopener" href="https://cdn-images-1.medium.com/max/1600/1*3lvNEQE4SF6Z1l-680cfSQ.jpeg">https://cdn-images-1.medium.com/max/1600/1*3lvNEQE4SF6Z1l-680cfSQ.jpeg</a></li>
<li>When To Add Redux: <a target="_blank" rel="noopener" href="https://daveceddia.com/what-does-redux-do/">https://daveceddia.com/what-does-redux-do/</a></li>
<li>Why Redux adds some complexity to your application: <a target="_blank" rel="noopener" href="https://www.quora.com/Do-I-need-Redux">https://www.quora.com/Do-I-need-Redux</a></li>
</ul>
<h2 id="Attributes"><a href="#Attributes" class="headerlink" title="Attributes"></a>Attributes</h2><ul>
<li>these are state management libraries</li>
<li>Redux has single store, Mobx can have multiple stores</li>
<li>Redux uses normal objects, Mobx uses observables<ul>
<li>You can listen to an observable and automatically track changes that occur to the data</li>
<li>In Redux all the updates have to be tracked manually</li>
</ul>
</li>
<li>Redux has immutable state, state is read-only and is pure<ul>
<li>In Redux it’s easy to revert back to a previous state. Eg — An undo action.</li>
</ul>
</li>
<li>MobX can have state overwritten</li>
<li>MobX is much easier to learn and has a steady learning curve</li>
<li>Redux follows functional programming paradigm</li>
<li>MobX functional reactive programming</li>
<li>In MobX there is lot of built in abstraction, and this leads to less code</li>
<li>When implementing Redux you will end up writing lot of boilerplate code</li>
<li>Since there is more abstraction, debugging becomes a lot harder for MobX</li>
<li>Redux provides kickass developer tools including time travelling</li>
<li>With pure functions and less abstraction, debugging in Redux will be a better experience compared to MobX</li>
<li>Following the flux paradigm makes Redux more predictable</li>
<li>Because of the whole pure functions things and functional programming paradigm Redux is more maintainable</li>
<li>The developer community of Redux is way ahead of the MobX community</li>
<li>MobX is great for small and simple apps</li>
<li>It’s faster to build apps with MobX</li>
<li>Redux allows to create more maintainable code</li>
<li>For complex app with scalable option Redux is great choice</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mateuszroth.github.io/blog/2020/07/17/React/DRAFT-React-MobX-vs-Redux/" data-id="ckqp6o9e6001qzbr1gnsehy9w" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/MobX/" rel="tag">MobX</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/React/" rel="tag">React</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/React-state-management/" rel="tag">React state management</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/Redux/" rel="tag">Redux</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/blog/page/2/">2</a><a class="page-number" href="/blog/page/3/">3</a><a class="page-number" href="/blog/page/4/">4</a><a class="extend next" rel="next" href="/blog/page/2/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  <div style="
    padding-top: 10px;
    text-align: center;
  ">
      <img
        src="https://media-exp3.licdn.com/dms/image/C4D03AQHSPZuJ5qNfZQ/profile-displayphoto-shrink_400_400/0/1623702873861?e=1630540800&v=beta&t=_FJd7kn-GBZisr6Qb4_iieu9n3VA2-SIT4nTPF7_21Q"
        width="150" style="border-radius: 50%; padding-bottom: 10px;" />
      <div>
        <a href="https://www.linkedin.com/in/mateuszroth" target="_blank">Linkedin</a> | <a href="https://github.com/mateuszroth" target="_blank">Github</a> | <a href="https://www.facebook.com/mateuszroth" target="_blank">Facebook</a>
      </div>
  </div>
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Backend/">Backend</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Backend/Authentication/">Authentication</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Backend/Authentication/Authorization/">Authorization</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Backend/ElasticSearch/">ElasticSearch</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Backend/Redis/">Redis</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Frontend/">Frontend</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Frontend/CSS/">CSS</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Frontend/Other/">Other</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/JavaScript/">JavaScript</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/JavaScript/Basics/">Basics</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/JavaScript/OOP/">OOP</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/JavaScript/Performance/">Performance</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/JavaScript/Tests/">Tests</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/JavaScript/TypeScript/">TypeScript</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Mobile/">Mobile</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Mobile/Cordova/">Cordova</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Mobile/Swift/">Swift</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Mobile/Swift/iOS/">iOS</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Node-js/">Node.js</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Node-js/Basics/">Basics</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Node-js/Basics/Nest-js/">Nest.js</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Node-js/GraphQL/">GraphQL</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Node-js/Scripts/">Scripts</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/React/">React</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/React/Basics/">Basics</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/React/Hooks/">Hooks</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/React/State-management/">State management</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/React/TypeScript/">TypeScript</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Software-Engineering/">Software Engineering</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Software-Engineering/Basics/">Basics</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Software-Engineering/OOP/">OOP</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Software-Engineering/Programming-languages/">Programming languages</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Software-Engineering/Tests/">Tests</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Android/" rel="tag">Android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Authentication/" rel="tag">Authentication</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Authorization/" rel="tag">Authorization</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Backend/" rel="tag">Backend</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/C/" rel="tag">C#</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/CSS/" rel="tag">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Cordova/" rel="tag">Cordova</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/ElasticSearch/" rel="tag">ElasticSearch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Elm/" rel="tag">Elm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Frontend/" rel="tag">Frontend</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/GraphQL/" rel="tag">GraphQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/MobX/" rel="tag">MobX</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Mobile/" rel="tag">Mobile</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Node-js/" rel="tag">Node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/OOP/" rel="tag">OOP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Objective-C/" rel="tag">Objective C</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Programming-languages/" rel="tag">Programming languages</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/React/" rel="tag">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/React-Hooks/" rel="tag">React Hooks</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/React-state-management/" rel="tag">React state management</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Reason/" rel="tag">Reason</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Redis/" rel="tag">Redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Redux/" rel="tag">Redux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Software-Engineering/" rel="tag">Software Engineering</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Swift/" rel="tag">Swift</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Tests/" rel="tag">Tests</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/TypeScript/" rel="tag">TypeScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/iOS/" rel="tag">iOS</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/blog/tags/Android/" style="font-size: 10px;">Android</a> <a href="/blog/tags/Authentication/" style="font-size: 10px;">Authentication</a> <a href="/blog/tags/Authorization/" style="font-size: 10px;">Authorization</a> <a href="/blog/tags/Backend/" style="font-size: 18px;">Backend</a> <a href="/blog/tags/C/" style="font-size: 10px;">C#</a> <a href="/blog/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/blog/tags/Cordova/" style="font-size: 10px;">Cordova</a> <a href="/blog/tags/ElasticSearch/" style="font-size: 10px;">ElasticSearch</a> <a href="/blog/tags/Elm/" style="font-size: 10px;">Elm</a> <a href="/blog/tags/Frontend/" style="font-size: 14px;">Frontend</a> <a href="/blog/tags/GraphQL/" style="font-size: 10px;">GraphQL</a> <a href="/blog/tags/JavaScript/" style="font-size: 20px;">JavaScript</a> <a href="/blog/tags/MobX/" style="font-size: 10px;">MobX</a> <a href="/blog/tags/Mobile/" style="font-size: 12px;">Mobile</a> <a href="/blog/tags/Node-js/" style="font-size: 16px;">Node.js</a> <a href="/blog/tags/OOP/" style="font-size: 12px;">OOP</a> <a href="/blog/tags/Objective-C/" style="font-size: 10px;">Objective C</a> <a href="/blog/tags/Programming-languages/" style="font-size: 14px;">Programming languages</a> <a href="/blog/tags/React/" style="font-size: 18px;">React</a> <a href="/blog/tags/React-Hooks/" style="font-size: 14px;">React Hooks</a> <a href="/blog/tags/React-state-management/" style="font-size: 10px;">React state management</a> <a href="/blog/tags/Reason/" style="font-size: 10px;">Reason</a> <a href="/blog/tags/Redis/" style="font-size: 10px;">Redis</a> <a href="/blog/tags/Redux/" style="font-size: 10px;">Redux</a> <a href="/blog/tags/Software-Engineering/" style="font-size: 18px;">Software Engineering</a> <a href="/blog/tags/Swift/" style="font-size: 10px;">Swift</a> <a href="/blog/tags/Tests/" style="font-size: 12px;">Tests</a> <a href="/blog/tags/TypeScript/" style="font-size: 12px;">TypeScript</a> <a href="/blog/tags/iOS/" style="font-size: 10px;">iOS</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2021/07/">July 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/01/">January 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/2021/07/03/Backend/Authentication-and-Authorization/">Authentication and Authorization</a>
          </li>
        
          <li>
            <a href="/blog/2021/07/03/Backend/Redis/">Redis</a>
          </li>
        
          <li>
            <a href="/blog/2021/07/02/Backend/ElasticSearch/">ElasticSearch</a>
          </li>
        
          <li>
            <a href="/blog/2021/06/30/Nodejs/Nodejs-Nestjs/">Node.js - Nest.js framework</a>
          </li>
        
          <li>
            <a href="/blog/2021/06/29/Nodejs/Nodejs-threads/">Node.js threads</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 Mateusz Roth<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/blog/" class="mobile-nav-link">Home</a>
  
    <a href="/blog/about-me" class="mobile-nav-link">About me</a>
  
    <a href="/blog/categories/JavaScript/" class="mobile-nav-link">JavaScript</a>
  
    <a href="/blog/categories/Node-js/" class="mobile-nav-link">Node.js</a>
  
    <a href="/blog/categories/React/" class="mobile-nav-link">React</a>
  
    <a href="/blog/categories/Software-Engineering/" class="mobile-nav-link">Software Engineering</a>
  
    <a href="/blog/archives" class="mobile-nav-link">Other archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css">

  
<script src="/blog/fancybox/jquery.fancybox.pack.js"></script>




<script src="/blog/js/script.js"></script>




  </div>
</body>
</html>