<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Software &amp; Web Development Notes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Software &amp; Web Development Notes">
<meta property="og:url" content="https:&#x2F;&#x2F;mateuszroth.github.io&#x2F;blog&#x2F;index.html">
<meta property="og:site_name" content="Software &amp; Web Development Notes">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/blog/atom.xml" title="Software &amp; Web Development Notes" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/blog/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/blog/" id="logo">Software &amp; Web Development Notes</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/blog/">Home</a>
        
          <a class="main-nav-link" href="/blog/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/blog/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://mateuszroth.github.io/blog"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-React-various-notes" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2019/12/01/React-various-notes/" class="article-date">
  <time datetime="2019-12-01T17:55:26.000Z" itemprop="datePublished">2019-12-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/React/">React</a>►<a class="article-category-link" href="/blog/categories/React/Basics/">Basics</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2019/12/01/React-various-notes/">React - miscellaneous notes</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Terms"><a href="#Terms" class="headerlink" title="Terms"></a>Terms</h1><h2 id="Prop-drilling"><a href="#Prop-drilling" class="headerlink" title="Prop drilling"></a>Prop drilling</h2><p>Passing props through a component tree, not a good pattern in most cases:</p>
<p><a href="https://miro.medium.com/max/2052/1*p_K7-j3GUX3A1XSzaFo0fQ.png" target="_blank" rel="noopener">Props drilling example</a></p>
<img src="https://miro.medium.com/max/2052/1*p_K7-j3GUX3A1XSzaFo0fQ.png" width="400"/>

<h2 id="Context"><a href="#Context" class="headerlink" title="Context"></a>Context</h2><p>Context is a way to essentially create global variables that can be passed around in a React app so no prop drilling would be needed.</p>
<p>Context is often touted as a <strong>simpler, lighter solution to using Redux</strong> for state management.</p>
<h1 id="Snapshot-testing"><a href="#Snapshot-testing" class="headerlink" title="Snapshot testing"></a>Snapshot testing</h1><ul>
<li>To make our tests really useful, we should run them before each commit. So we can be sure, that we didn’t break anything accidentally. For example <a href="https://www.npmjs.com/package/husky" target="_blank" rel="noopener">_<em>husky_</em></a> package can help to setup and run pre-commit hooks.</li>
<li>The snapshot tests become really powerful when you are working on larger application or multiple developers are working on the same codebase.</li>
<li>Life examples when snapshot tests fail are available here in the section “Typical regressions”: <a href="https://medium.com/simply/snapshots-painless-testing-of-react-components-6bce3c4d51fc" target="_blank" rel="noopener">https://medium.com/simply/snapshots-painless-testing-of-react-components-6bce3c4d51fc</a></li>
</ul>
<h1 id="Higher-Order-Components"><a href="#Higher-Order-Components" class="headerlink" title="Higher Order Components"></a>Higher Order Components</h1><h2 id="Comparison-to-Render-Props-and-React-Hooks"><a href="#Comparison-to-Render-Props-and-React-Hooks" class="headerlink" title="Comparison to Render Props and React Hooks:"></a>Comparison to Render Props and React Hooks:</h2><p><a href="https://medium.com/simply/comparison-hocs-vs-render-props-vs-hooks-55f9ffcd5dc6" target="_blank" rel="noopener">https://medium.com/simply/comparison-hocs-vs-render-props-vs-hooks-55f9ffcd5dc6</a></p>
<h2 id="HOCs-pitfalls"><a href="#HOCs-pitfalls" class="headerlink" title="HOCs pitfalls"></a>HOCs pitfalls</h2><h3 id="Don’t-Use-HOCs-Inside-the-render-Method"><a href="#Don’t-Use-HOCs-Inside-the-render-Method" class="headerlink" title="Don’t Use HOCs Inside the render Method"></a>Don’t Use HOCs Inside the render Method</h3><p>Apply HOCs outside the component definition so that the resulting component is created only once. Then, its identity will be consistent across renders. This is usually what you want, anyway.</p>
<p>Docs: <a href="https://reactjs.org/docs/higher-order-components.html#dont-use-hocs-inside-the-render-method" target="_blank" rel="noopener">https://reactjs.org/docs/higher-order-components.html#dont-use-hocs-inside-the-render-method</a></p>
<h3 id="Class-Static-Methods-Must-Be-Copied-Over"><a href="#Class-Static-Methods-Must-Be-Copied-Over" class="headerlink" title="Class Static Methods Must Be Copied Over"></a>Class Static Methods Must Be Copied Over</h3><p>Docs: <a href="https://reactjs.org/docs/higher-order-components.html#static-methods-must-be-copied-over" target="_blank" rel="noopener">https://reactjs.org/docs/higher-order-components.html#static-methods-must-be-copied-over</a></p>
<p>When you use HOC or just wrap a component by a function, static methods are not being exposed by that HOC/function:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// Define a static method</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">WrappedComponent.staticMethod = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;<span class="comment">/*...*/</span>&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// Now apply a HOC</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> EnhancedComponent = enhance(WrappedComponent);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// The enhanced component has no static method</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> EnhancedComponent.staticMethod === <span class="string">'undefined'</span> <span class="comment">// true</span></span></pre></td></tr></table></figure>

<p>How to solve: <a href="https://reactjs.org/docs/higher-order-components.html#static-methods-must-be-copied-over" target="_blank" rel="noopener">https://reactjs.org/docs/higher-order-components.html#static-methods-must-be-copied-over</a></p>
<h3 id="Refs-Aren’t-Passed-Through"><a href="#Refs-Aren’t-Passed-Through" class="headerlink" title="Refs Aren’t Passed Through"></a>Refs Aren’t Passed Through</h3><p>If you add a ref to an element whose component is the result of a HOC, the ref refers to an instance of the outermost container component, not the wrapped component.</p>
<p>How to solve: <a href="https://reactjs.org/docs/higher-order-components.html#static-methods-must-be-copied-over" target="_blank" rel="noopener"><a href="https://reactjs.org/docs/higher-order-components.html#refs-arent-passed-through" target="_blank" rel="noopener">https://reactjs.org/docs/higher-order-components.html#static-methods-must-be-copied-over</a></a></p>
<h2 id="Types-of-HOCs"><a href="#Types-of-HOCs" class="headerlink" title="Types of HOCs"></a>Types of HOCs</h2><ul>
<li><strong>Enhancers</strong>: Wrap a component with additional functionality/props.</li>
<li><strong>Injectors</strong>: Inject props into a component.</li>
<li>Recommended article about: <a href="https://medium.com/@jrwebdev/react-higher-order-component-patterns-in-typescript-42278f7590fb" target="_blank" rel="noopener">https://medium.com/@jrwebdev/react-higher-order-component-patterns-in-typescript-42278f7590fb</a></li>
</ul>
<h1 id="Render-Props"><a href="#Render-Props" class="headerlink" title="Render Props"></a>Render Props</h1><h2 id="Issues-of"><a href="#Issues-of" class="headerlink" title="Issues of"></a>Issues of</h2><ul>
<li>Firstly, there is an <strong>issue with separation of concerns</strong> with Render Props; if you wrap a component with a render prop in the same component, it will make it more difficult to test the two in isolation. May be fixed by creating more boilerplate code and creating separate component for what is rendered inside the render prop</li>
<li>Secondly, as the props are injected in the render function of component, you cannot make use of them in the lifecycle methods</li>
<li>Source: <a href="https://medium.com/@jrwebdev/react-render-props-in-typescript-b561b00bc67c" target="_blank" rel="noopener">https://medium.com/@jrwebdev/react-render-props-in-typescript-b561b00bc67c</a></li>
</ul>
<h2 id="Render-Prop-vs-HOC"><a href="#Render-Prop-vs-HOC" class="headerlink" title="Render Prop vs HOC"></a>Render Prop vs HOC</h2><ul>
<li>In the end, the tradeoff between HOCs and render prop components comes down to <strong>flexibility vs convenience</strong>. This can be solved by writing render prop components first, then generating HOCs from them, which gives the consumer the power to choose between the two.</li>
<li>As far as TypeScript goes, there is no doubt that typing HOCs is much more difficult.</li>
<li>Prior to React v16.8.0, I’d recommend <strong>sticking with render prop components for the flexibility and simplicity of typing</strong>, and if the need arises, such as building a reusable library of components, or for render prop components that are simple and/or widely used across a project, I would only then generate a HOC from them.</li>
<li>in React v16.8.0, I would strongly recommend using them over both higher-order components or render props where possible, as they are much simpler to type.</li>
<li>Source: <a href="https://medium.com/@jrwebdev/react-render-props-in-typescript-b561b00bc67c" target="_blank" rel="noopener">https://medium.com/@jrwebdev/react-render-props-in-typescript-b561b00bc67c</a></li>
</ul>
<h1 id="React-Hooks"><a href="#React-Hooks" class="headerlink" title="React Hooks"></a>React Hooks</h1><h2 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h2><ul>
<li><a href="https://reactjs.org/docs/hooks-faq.html#is-there-something-like-instance-variables" target="_blank" rel="noopener">Is there something like class instance variables so we won’t need to use state and rerender component?</a></li>
</ul>
<h2 id="Hook-as-HOC"><a href="#Hook-as-HOC" class="headerlink" title="Hook as HOC"></a>Hook as HOC</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">"react"</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">useDataFetching</span>(<span class="params">dataSource</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">const</span> [loading, setLoading] = useState(<span class="literal">true</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">const</span> [results, setResults] = useState([]);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">const</span> [error, setError] = useState(<span class="string">""</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">   &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">fetchData</span>(<span class="params"></span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">try</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">        <span class="keyword">const</span> data = <span class="keyword">await</span> fetch(dataSource);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">        <span class="keyword">const</span> json = <span class="keyword">await</span> data.json();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">        <span class="keyword">if</span> (json) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">          setLoading(<span class="literal">false</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">          setResults(json);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">        &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">      &#125; <span class="keyword">catch</span> (error) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">        setLoading(<span class="literal">false</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">        setError(error.message);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">      &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">      setLoading(<span class="literal">false</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">    fetchData();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">  &#125;, [dataSource]);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">return</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">    error,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">    loading,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">    results</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">  &#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> useDataFetching;</span></pre></td></tr></table></figure>
<p>Data Fetching HOC as React Hooks, source <a href="https://dev.to/gethackteam/from-higher-order-components-hoc-to-react-hooks-2bm9" target="_blank" rel="noopener">https://dev.to/gethackteam/from-higher-order-components-hoc-to-react-hooks-2bm9</a></p>
<p>Source and comparison to standard HOC: <a href="https://dev.to/gethackteam/from-higher-order-components-hoc-to-react-hooks-2bm9" target="_blank" rel="noopener">https://dev.to/gethackteam/from-higher-order-components-hoc-to-react-hooks-2bm9</a></p>
<h2 id="Use-only-Hooks-for-global-state-management"><a href="#Use-only-Hooks-for-global-state-management" class="headerlink" title="Use only Hooks for global state management"></a>Use only Hooks for global state management</h2><p>You can use <code>useContext</code> and <code>useReducer</code> to create a Redux-like store management in your app. Checkout <a href="https://medium.com/simply/state-management-with-react-hooks-and-context-api-at-10-lines-of-code-baf6be8302c" target="_blank" rel="noopener">https://medium.com/simply/state-management-with-react-hooks-and-context-api-at-10-lines-of-code-baf6be8302c</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; StateProvider &#125; <span class="keyword">from</span> <span class="string">'../state'</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> App = <span class="function"><span class="params">()</span> =&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">const</span> initialState = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    theme: &#123; <span class="attr">primary</span>: <span class="string">'green'</span> &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  &#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">const</span> reducer = <span class="function">(<span class="params">state, action</span>) =&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">   &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">switch</span> (action.type) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">case</span> <span class="string">'changeTheme'</span>:</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">        <span class="keyword">return</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">          ...state,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">          theme: action.newTheme</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">        &#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">default</span>:</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">        <span class="keyword">return</span> state;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">  &#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">return</span> (</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">    &lt;StateProvider initialState=&#123;initialState&#125; reducer=&#123;reducer&#125;&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">        <span class="comment">// App content ...</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">    &lt;<span class="regexp">/StateProvider&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line"><span class="regexp">  );</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line"><span class="regexp">&#125;</span></span></pre></td></tr></table></figure>
<p>usage</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useStateValue &#125; <span class="keyword">from</span> <span class="string">'./state'</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ThemedButton = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">const</span> [&#123; theme &#125;, dispatch] = useStateValue();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">return</span> (</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    &lt;Button</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">      primaryColor=&#123;theme.primary&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">      onClick=&#123;() =&gt; dispatch(&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">        type: <span class="string">'changeTheme'</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">        newTheme: &#123; <span class="attr">primary</span>: <span class="string">'blue'</span>&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">      &#125;)&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">    &gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">      Make me blue!</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">    &lt;<span class="regexp">/Button&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"><span class="regexp">  );</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"><span class="regexp">&#125;</span></span></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mateuszroth.github.io/blog/2019/12/01/React-various-notes/" data-id="ck8yjhfld000k4irfg72r6o0q" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/React/" rel="tag">React</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-TypeScript-basics" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2019/12/01/TypeScript-basics/" class="article-date">
  <time datetime="2019-12-01T16:13:00.000Z" itemprop="datePublished">2019-12-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/JavaScript/">JavaScript</a>►<a class="article-category-link" href="/blog/categories/JavaScript/TypeScript/">TypeScript</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2019/12/01/TypeScript-basics/">TypeScript basics</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="operator"><a href="#operator" class="headerlink" title="! operator"></a>! operator</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (a!.b!.c) &#123; &#125;</span></pre></td></tr></table></figure>

<p>compiles to JS:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (a.b.c) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h2 id="operator-1"><a href="#operator-1" class="headerlink" title="? operator"></a>? operator</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = foo?.bar.baz();</span></pre></td></tr></table></figure>

<p>compiles to JS:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = foo === <span class="literal">null</span> || foo === <span class="literal">undefined</span> ? <span class="literal">undefined</span> : foo.bar.baz();</span></pre></td></tr></table></figure>

<p>And:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (someObj?.bar) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">// ...</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p>is equivalent in JS to:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (someObj &amp;amp;&amp;amp; someObj.someProperty) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">    <span class="comment">// ...</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<p>TS:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">interface Content &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  getUrl?: <span class="function"><span class="params">()</span> =&gt;</span> string;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  url?: string;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">interface Data &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  content?: Content;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> data: Data | <span class="literal">undefined</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> url: string | <span class="literal">undefined</span> = data?.content?.getUrl?.();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> url2: string | <span class="literal">undefined</span> = data?.content?.url;</span></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://mateuszroth.github.io/blog/2019/12/01/TypeScript-basics/" data-id="ck8yjhfll000p4irf2c9dajpo" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/TypeScript/" rel="tag">TypeScript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-TypeScript-React" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2019/12/01/TypeScript-React/" class="article-date">
  <time datetime="2019-12-01T16:13:00.000Z" itemprop="datePublished">2019-12-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/React/">React</a>►<a class="article-category-link" href="/blog/categories/React/React-Hooks/">React Hooks</a>►<a class="article-category-link" href="/blog/categories/React/TypeScript/">TypeScript</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2019/12/01/TypeScript-React/">TypeScript with React</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Common-Operators-and-Signatures"><a href="#Common-Operators-and-Signatures" class="headerlink" title="Common Operators and Signatures"></a>Common Operators and Signatures</h1><h3 id="Type-intersection-operator-amp"><a href="#Type-intersection-operator-amp" class="headerlink" title="Type intersection operator (&amp;)"></a>Type intersection operator (&amp;)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WithLoading</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span>&lt;<span class="title">P</span> &amp; <span class="title">WithLoadingProps</span>&gt; </span>&#123; ... &#125;</span></pre></td></tr></table></figure>

<h3 id="Generic-function"><a href="#Generic-function" class="headerlink" title="Generic function"></a>Generic function</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> funcComponent = &lt;P extends object&gt;(Component: React.ComponentType&lt;P&gt;): ... =&gt; &#123; ... &#125;</span></pre></td></tr></table></figure>

<h3 id="Type-cast"><a href="#Type-cast" class="headerlink" title="Type cast"></a>Type cast</h3><p>A type cast (props as P) is required when passing props forward from TypeScript v3.2 onwards, due to a likely bug in TypeScript.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> loading ? &lt;LoadingSpinner /&gt; : &lt;Component &#123;...props as P&#125; /&gt;;</span></pre></td></tr></table></figure>

<h1 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h1><p>Worth to read:</p>
<ul>
<li>about HOCs: <a href="https://medium.com/@jrwebdev/react-higher-order-component-patterns-in-typescript-42278f7590fb" target="_blank" rel="noopener">https://medium.com/@jrwebdev/react-higher-order-component-patterns-in-typescript-42278f7590fb</a></li>
</ul>
<h2 id="Higher-Order-Components"><a href="#Higher-Order-Components" class="headerlink" title="Higher Order Components"></a>Higher Order Components</h2><h3 id="Higher-Order-Component-in-JS"><a href="#Higher-Order-Component-in-JS" class="headerlink" title="Higher Order Component in JS"></a>Higher Order Component in JS</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> withLoading = <span class="function"><span class="params">Component</span> =&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">WithLoading</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    render() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">const</span> &#123; loading, ...props &#125; = <span class="keyword">this</span>.props;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">return</span> loading ? &lt;LoadingSpinner /&gt; : &lt;Component &#123;...props&#125; /&gt;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  &#125;;</span></pre></td></tr></table></figure>

<h3 id="Higher-Order-Component-in-TS"><a href="#Higher-Order-Component-in-TS" class="headerlink" title="Higher Order Component in TS"></a>Higher Order Component in TS</h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> WithLoadingProps &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  loading: <span class="built_in">boolean</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> withLoading = &lt;P <span class="keyword">extends</span> object&gt;<span class="function">(<span class="params">Component: React.ComponentType&lt;P&gt;</span>) =&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">class</span> WithLoading <span class="keyword">extends</span> React.Component&lt;P &amp; WithLoadingProps&gt; &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    render() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">const</span> &#123; loading, ...props &#125; = <span class="keyword">this</span>.props;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">return</span> loading ? &lt;LoadingSpinner /&gt; : &lt;Component &#123;...props <span class="keyword">as</span> P&#125; /&gt;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">    &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">  &#125;;</span></pre></td></tr></table></figure>

<h3 id="Function-Higher-Order-Component-in-TS"><a href="#Function-Higher-Order-Component-in-TS" class="headerlink" title="Function Higher Order Component in TS"></a>Function Higher Order Component in TS</h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> withLoading = &lt;P <span class="keyword">extends</span> object&gt;(</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  Component: React.ComponentType&lt;P&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">): React.FC&lt;P &amp; WithLoadingProps&gt; =&gt; (&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  loading,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  ...props</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">&#125;: WithLoadingProps) =&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  loading ? &lt;LoadingSpinner /&gt; : &lt;Component &#123;...props <span class="keyword">as</span> P&#125; /&gt;;</span></pre></td></tr></table></figure>

<h3 id="Render-Prop-Component"><a href="#Render-Prop-Component" class="headerlink" title="Render Prop Component"></a>Render Prop Component</h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> InjectedCounterProps &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  value: <span class="built_in">number</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  onIncrement(): <span class="built_in">void</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">  onDecrement(): <span class="built_in">void</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> MakeCounterProps &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  minValue?: <span class="built_in">number</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  maxValue?: <span class="built_in">number</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">  children(props: InjectedCounterProps): JSX.Element;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> MakeCounterState &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">  value: <span class="built_in">number</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> MakeCounter <span class="keyword">extends</span> React.Component&lt;MakeCounterProps, MakeCounterState&gt; &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">  state: MakeCounterState = &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">    value: <span class="number">0</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">  &#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">  increment = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">this</span>.setState(<span class="function"><span class="params">prevState</span> =&gt;</span> (&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">      value:</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">        prevState.value === <span class="keyword">this</span>.props.maxValue</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">          ? prevState.value</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">          : prevState.value + <span class="number">1</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line">    &#125;));</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line">  &#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">31</span></pre></td><td class="code"><pre><span class="line">  decrement = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">32</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">this</span>.setState(<span class="function"><span class="params">prevState</span> =&gt;</span> (&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">33</span></pre></td><td class="code"><pre><span class="line">      value:</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">34</span></pre></td><td class="code"><pre><span class="line">        prevState.value === <span class="keyword">this</span>.props.minValue</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">35</span></pre></td><td class="code"><pre><span class="line">          ? prevState.value</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">36</span></pre></td><td class="code"><pre><span class="line">          : prevState.value - <span class="number">1</span>,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">37</span></pre></td><td class="code"><pre><span class="line">    &#125;));</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">38</span></pre></td><td class="code"><pre><span class="line">  &#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">39</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">40</span></pre></td><td class="code"><pre><span class="line">  render() &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">41</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.props.children(&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">42</span></pre></td><td class="code"><pre><span class="line">      value: <span class="keyword">this</span>.state.value,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">43</span></pre></td><td class="code"><pre><span class="line">      onIncrement: <span class="keyword">this</span>.increment,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">44</span></pre></td><td class="code"><pre><span class="line">      onDecrement: <span class="keyword">this</span>.decrement,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">45</span></pre></td><td class="code"><pre><span class="line">    &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">46</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">47</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>
<p><a href="https://gist.github.com/jrwebdev/b8fea9723d4f86743c29a1888dbbe090#file-make-counter-render-prop-tsx" target="_blank" rel="noopener">make-counter-render-prop.tsx</a></p>
<h3 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">interface CounterProps extends InjectedCounterProps &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  style: React.CSSProperties;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">const Counter &#x3D; (props: CounterProps) &#x3D;&gt; (</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  &lt;div style&#x3D;&#123;props.style&#125;&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">    &lt;button onClick&#x3D;&#123;props.onDecrement&#125;&gt; - &lt;&#x2F;button&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">    &#123;props.value&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">    &lt;button onClick&#x3D;&#123;props.onIncrement&#125;&gt; + &lt;&#x2F;button&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">  &lt;&#x2F;div&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">interface WrappedCounterProps extends CounterProps &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">  minValue?: number;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">  maxValue?: number;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">const WrappedCounter &#x3D; (&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">  minValue,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">  maxValue,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">  ...props</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line">&#125;: WrappedCounterProps) &#x3D;&gt; (</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line">  &lt;MakeCounter minValue&#x3D;&#123;minValue&#125; maxValue&#x3D;&#123;maxValue&#125;&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line">    &#123;injectedProps &#x3D;&gt; &lt;Counter &#123;...props&#125; &#123;...injectedProps&#125; &#x2F;&gt;&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">  &lt;&#x2F;MakeCounter&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">);</span></pre></td></tr></table></figure>
<p><a href="https://gist.github.com/jrwebdev/c0392dfc25d3fc30893f324a89c8a16d#file-wrapped-counter-tsx" target="_blank" rel="noopener">wrapped-counter.tsx</a></p>
<h3 id="Wrapping-Render-Prop-as-HOC"><a href="#Wrapping-Render-Prop-as-HOC" class="headerlink" title="Wrapping Render Prop as HOC"></a>Wrapping Render Prop as HOC</h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Subtract, Omit &#125; <span class="keyword">from</span> <span class="string">'utility-types'</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> MakeCounter, &#123; MakeCounterProps, InjectedCounterProps &#125; <span class="keyword">from</span> <span class="string">'./MakeCounter'</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> MakeCounterHocProps = Omit&lt;MakeCounterProps, <span class="string">'children'</span>&gt;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> makeCounter = &lt;P <span class="keyword">extends</span> InjectedCounterProps&gt;(</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  Component: React.ComponentType&lt;P&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">): React.SFC&lt;Subtract&lt;P, InjectedCounterProps&gt; &amp; MakeCounterHocProps&gt; =&gt; (&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  minValue,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">  maxValue,</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">  ...props</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">&#125;: MakeCounterHocProps) =&gt; (</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">  &lt;MakeCounter minValue=&#123;minValue&#125; maxValue=&#123;maxValue&#125;&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">    &#123;<span class="function"><span class="params">injectedProps</span> =&gt;</span> &lt;Component &#123;...props <span class="keyword">as</span> P&#125; &#123;...injectedProps&#125; /&gt;&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">  &lt;<span class="regexp">/MakeCounter&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line"><span class="regexp">);</span></span></pre></td></tr></table></figure>

<p>Source: <a href="https://medium.com/@jrwebdev/react-render-props-in-typescript-b561b00bc67c" target="_blank" rel="noopener">https://medium.com/@jrwebdev/react-render-props-in-typescript-b561b00bc67c</a></p>
<h2 id="React-Hooks"><a href="#React-Hooks" class="headerlink" title="React Hooks"></a>React Hooks</h2><h3 id="Function-Components-with-Hooks-in-TS-example"><a href="#Function-Components-with-Hooks-in-TS-example" class="headerlink" title="Function Components with Hooks in TS example"></a>Function Components with Hooks in TS example</h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// import useState next to FunctionComponent</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React, &#123; FunctionComponent, useState &#125; <span class="keyword">from</span> <span class="string">"react"</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// our components props accept a number for the initial value</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Counter: FunctionComponent&lt;&#123; initial?: <span class="built_in">number</span> &#125;&gt; = <span class="function">(<span class="params">&#123; initial = 0 &#125;</span>) =&gt;</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">// since we pass a number here, clicks is going to be a number.</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">// setClicks is a function that accepts either a number or a function returning</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">// a number</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">const</span> [clicks, setClicks] = useState(initial);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">return</span> (</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">    &lt;&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">      &lt;p&gt;Clicks: &#123;clicks&#125;&lt;<span class="regexp">/p&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line"><span class="regexp">      &lt;button onClick=&#123;() =&gt; setClicks(clicks + 1)&#125;&gt;+&lt;/</span>button&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">      &lt;button onClick=&#123;<span class="function"><span class="params">()</span> =&gt;</span> setClicks(clicks - <span class="number">1</span>)&#125;&gt;-&lt;<span class="regexp">/button&gt;</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line"><span class="regexp">    &lt;/</span>&gt;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">  );</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">&#125;;</span></pre></td></tr></table></figure>

<h1 id="Details-about-React-Hooks-with-TypeScript"><a href="#Details-about-React-Hooks-with-TypeScript" class="headerlink" title="Details about React Hooks with TypeScript"></a>Details about React Hooks with TypeScript</h1><ul>
<li>Examples how to use with TS: <a href="https://fettblog.eu/typescript-react/hooks/" target="_blank" rel="noopener">https://fettblog.eu/typescript-react/hooks/</a></li>
<li>TS advanced: <a href="https://medium.com/@jrwebdev/react-hooks-in-typescript-88fce7001d0d" target="_blank" rel="noopener">https://medium.com/@jrwebdev/react-hooks-in-typescript-88fce7001d0d</a></li>
<li>super advanced: <a href="https://levelup.gitconnected.com/usetypescript-a-complete-guide-to-react-hooks-and-typescript-db1858d1fb9c" target="_blank" rel="noopener">https://levelup.gitconnected.com/usetypescript-a-complete-guide-to-react-hooks-and-typescript-db1858d1fb9c</a></li>
</ul>
<figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Counter:FunctionComponent&lt;&#123; initial?: <span class="built_in">number</span> &#125;&gt; = <span class="function">(<span class="params">&#123; initial = 0 &#125;</span>) =&gt;</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  ...</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr></table></figure>

<h3 id="with-useState"><a href="#with-useState" class="headerlink" title="with useState"></a>with <code>useState</code></h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// explicitly setting the types</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [value, setValue] = (useState &lt; <span class="built_in">number</span>) | (<span class="literal">undefined</span> &gt; <span class="literal">undefined</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [value, setValue] = useState &lt; <span class="built_in">Array</span> &lt; <span class="built_in">number</span> &gt;&gt; [];</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> MyObject &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  foo: <span class="built_in">string</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  bar?: <span class="built_in">number</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [value, setValue] = useState &lt;MyObject&gt; &#123; foo: <span class="string">"hello"</span> &#125;;</span></pre></td></tr></table></figure>

<h3 id="with-useRef"><a href="#with-useRef" class="headerlink" title="with useRef"></a>with <code>useRef</code></h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> inputEl = useRef &lt;HTMLInputElement&gt; <span class="literal">null</span>;</span></pre></td></tr></table></figure>

<h3 id="with-useContext"><a href="#with-useContext" class="headerlink" title="with useContext"></a>with <code>useContext</code></h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Theme = <span class="string">"light"</span> | <span class="string">"dark"</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ThemeContext = createContext &lt;Theme&gt; <span class="string">"dark"</span>;</span></pre></td></tr></table></figure>

<h3 id="with-useReducer"><a href="#with-useReducer" class="headerlink" title="with useReducer"></a>with <code>useReducer</code></h3><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> State &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  value: <span class="built_in">number</span>;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Action =</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">  | &#123; <span class="keyword">type</span>: <span class="string">"increment"</span> &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line">  | &#123; <span class="keyword">type</span>: <span class="string">"decrement"</span> &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line">  | &#123; <span class="keyword">type</span>: <span class="string">"incrementAmount"</span>, amount: <span class="built_in">number</span> &#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> counterReducer = <span class="function">(<span class="params">state: State, action: Action</span>) =&gt;</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">switch</span> (action.type) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">case</span> <span class="string">"increment"</span>:</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">return</span> &#123; value: state.value + <span class="number">1</span> &#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">14</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">case</span> <span class="string">"decrement"</span>:</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">15</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">return</span> &#123; value: state.value - <span class="number">1</span> &#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">16</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">case</span> <span class="string">"incrementAmount"</span>:</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">17</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">return</span> &#123; value: state.value + action.amount &#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">18</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">default</span>:</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">19</span></pre></td><td class="code"><pre><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">20</span></pre></td><td class="code"><pre><span class="line">  &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">21</span></pre></td><td class="code"><pre><span class="line">&#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">22</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">23</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [state, dispatch] = useReducer(counterReducer, &#123; value: <span class="number">0</span> &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">24</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">25</span></pre></td><td class="code"><pre><span class="line">dispatch(&#123; <span class="keyword">type</span>: <span class="string">"increment"</span> &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">26</span></pre></td><td class="code"><pre><span class="line">dispatch(&#123; <span class="keyword">type</span>: <span class="string">"decrement"</span> &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">27</span></pre></td><td class="code"><pre><span class="line">dispatch(&#123; <span class="keyword">type</span>: <span class="string">"incrementAmount"</span>, amount: <span class="number">10</span> &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">28</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">29</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// TypeScript compilation error</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">30</span></pre></td><td class="code"><pre><span class="line">dispatch(&#123; <span class="keyword">type</span>: <span class="string">"invalidActionType"</span> &#125;);</span></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mateuszroth.github.io/blog/2019/12/01/TypeScript-React/" data-id="ck8yjhflg000m4irf6oqah2bj" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/React/" rel="tag">React</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/React-Hooks/" rel="tag">React Hooks</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/TypeScript/" rel="tag">TypeScript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-React-Hooks-introduction-and-API-pitfalls" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2019/12/01/React-Hooks-introduction-and-API-pitfalls/" class="article-date">
  <time datetime="2019-12-01T10:00:00.000Z" itemprop="datePublished">2019-12-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/React/">React</a>►<a class="article-category-link" href="/blog/categories/React/Hooks/">Hooks</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2019/12/01/React-Hooks-introduction-and-API-pitfalls/">React Hooks - introduction and API pitfalls</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li>Hooks are <strong>a new addition in React 16.8</strong>. They let you use state and other React features without writing a class.</li>
</ul>
<h2 id="Hooks-list"><a href="#Hooks-list" class="headerlink" title="Hooks list"></a>Hooks list</h2><ul>
<li>basic hooks: <code>useState</code>, <code>useEffect</code>, <code>useContext</code></li>
<li>additional hooks: <code>useReducer</code>, <code>useCallback</code>, <code>useMemo</code>, <code>useRef</code>, <code>useImperativeHandle</code>, <code>useLayoutEffect</code>, <code>useDebugValue</code></li>
</ul>
<h3 id="Hook-setState"><a href="#Hook-setState" class="headerlink" title="Hook setState"></a>Hook <code>setState</code></h3><ul>
<li>unlike the <code>setState</code> method found in class components, <code>useState</code> does not automatically merge update objects, so we have to manually set state for previous state values that we’re not intend to modify:</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">setState(<span class="function"><span class="params">prevState</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="comment">// Object.assign would also work</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">return</span> &#123; ...prevState, ...updatedValues &#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">&#125;);</span></pre></td></tr></table></figure>

<ul>
<li>alternative to the <code>setState</code> hook is the <code>useReducer</code> hook, which is more suited for managing state objects that contain multiple sub-values and not simple primitives like numbers, strings.</li>
<li><code>setState</code> - if the initial state is the result of an expensive computation, you may provide a function instead, which will be executed only on the initial render:</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [state, setState] = useState(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">const</span> initialState = someExpensiveComputation(props);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">return</span> initialState;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">&#125;);</span></pre></td></tr></table></figure>

<h3 id="Hook-useEffect"><a href="#Hook-useEffect" class="headerlink" title="Hook useEffect"></a>Hook <code>useEffect</code></h3><ul>
<li>you should call hooks at the top level of the render function, this means no conditional hooks:</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// BAD:</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (user.isAdmin) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    ...</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  &#125;);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">&#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// GOOD:</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line">useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">if</span> (user.isAdmin) &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line">    ...</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">12</span></pre></td><td class="code"><pre><span class="line">  &#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">13</span></pre></td><td class="code"><pre><span class="line">&#125;)</span></pre></td></tr></table></figure>

<ul>
<li>a second argument to <code>useEffect</code> that is the array of values that the effect depends on, so in below example the effect will be executed only when <code>props.source</code> changes:</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">useEffect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">const</span> subscription = props.source.subscribe();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">  <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">    subscription.unsubscribe();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line">  &#125;;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line">&#125;, [props.source]);</span></pre></td></tr></table></figure>

<h3 id="Hook-useCallback"><a href="#Hook-useCallback" class="headerlink" title="Hook useCallback"></a>Hook <code>useCallback</code></h3><ul>
<li>returns a <a href="https://en.wikipedia.org/wiki/Memoization" target="_blank" rel="noopener">memoized</a> callback</li>
<li>will return a memoized version of the callback that only changes if one of the dependencies has changed</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> memoizedCallback = useCallback(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  doSomething(a, b);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">&#125;, [a, b]);</span></pre></td></tr></table></figure>

<h3 id="Hook-useMemo"><a href="#Hook-useMemo" class="headerlink" title="Hook useMemo"></a>Hook <code>useMemo</code></h3><ul>
<li>If you’re doing expensive calculations while rendering, you can optimize them with <code>useMemo</code>:</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [c1, setC1] = useState(<span class="number">0</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [c2, setC2] = useState(<span class="number">0</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// This value will not be recomputed between re-renders</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// unless the value of c1 changes</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sinOfC1: number = useMemo(<span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">Math</span>.sin(c1), [c1]);</span></pre></td></tr></table></figure>

<ul>
<li><code>useMemo</code> is generalized version of  <code>useCallback</code> hook. <code>useMemo</code> is primarily used for caching values but can also be used for caching functions as <code>useCallback</code> is used for because <code>useCallback(fn, deps)</code> is equivalent to <code>useMemo(() =&gt; fn, deps)</code>:</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// Some function ...</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> f = <span class="function"><span class="params">()</span> =&gt;</span> &#123; ... &#125;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="comment">// The following are functionally equivalent</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> callbackF = useCallback(f, [])</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> callbackF = useMemo(<span class="function"><span class="params">()</span> =&gt;</span> f, [])</span></pre></td></tr></table></figure>

<h2 id="Sources"><a href="#Sources" class="headerlink" title="Sources"></a>Sources</h2><ul>
<li><a href="https://reactjs.org/docs/hooks-reference.html" target="_blank" rel="noopener">https://reactjs.org/docs/hooks-reference.html</a></li>
<li><a href="https://hackernoon.com/why-react-hooks-a-developers-perspective-2aedb8511f38" target="_blank" rel="noopener">https://hackernoon.com/why-react-hooks-a-developers-perspective-2aedb8511f38</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mateuszroth.github.io/blog/2019/12/01/React-Hooks-introduction-and-API-pitfalls/" data-id="ck8yjhflb000g4irf9jaqgszb" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/React/" rel="tag">React</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/React-Hooks/" rel="tag">React Hooks</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Software-Engineering-notes" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2019/12/01/Software-Engineering-notes/" class="article-date">
  <time datetime="2019-12-01T10:00:00.000Z" itemprop="datePublished">2019-12-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/Software-Engineering/">Software Engineering</a>►<a class="article-category-link" href="/blog/categories/Software-Engineering/Basics/">Basics</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2019/12/01/Software-Engineering-notes/">Software Engineering notes</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Empty-variables-interpretation"><a href="#Empty-variables-interpretation" class="headerlink" title="Empty variables interpretation"></a>Empty variables interpretation</h1><ul>
<li><code>null</code> means nothing - we want no value</li>
<li><code>undefined</code> declared but not defined - we want default value</li>
</ul>
<h1 id="Qualities-of-well-written-code"><a href="#Qualities-of-well-written-code" class="headerlink" title="Qualities of well written code"></a>Qualities of well written code</h1><p>Write a code like someone after you who you don’t know would read the code.</p>
<ul>
<li>readability / understandability (czytelność, zrozumiałość) vs obscurity (zaciemnienie)</li>
<li>readable and concise code - czytelny i zwięzły kod</li>
<li>complexity (złożoność)</li>
<li>maintainability (utrzymywalność)</li>
<li>reliability / testability (niezawodność, testowalność)</li>
<li>reusability</li>
<li>performance</li>
<li><a href="https://en.wikipedia.org/wiki/No_Silver_Bullet" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/No_Silver_Bullet</a> essential vs accident complexity</li>
<li>robustness - the ability of a computer system to cope with errors during execution and cope with erroneous input</li>
<li>coupling and code interdependence</li>
<li>concise vs explicit</li>
<li><strong>abstractions are bad</strong></li>
</ul>
<p>PEP20 — The Zen of Python<br><a href="https://www.python.org/dev/peps/pep-0020/" target="_blank" rel="noopener">https://www.python.org/dev/peps/pep-0020</a>/</p>
<h1 id="System-infrastructure"><a href="#System-infrastructure" class="headerlink" title="System infrastructure"></a>System infrastructure</h1><ul>
<li>scalability - skalowalność</li>
<li>performance - wydajność</li>
<li>stability - stabilność</li>
<li>reliability - niezawodność</li>
<li>flexibility - jak łatwo się zmienia np. w przypadku mikroserwisów ilość jednostek jednego komponentu/serwisu, czy np. zmiana usługodawcy</li>
</ul>
<h1 id="Terms"><a href="#Terms" class="headerlink" title="Terms"></a>Terms</h1><ul>
<li>function declaration vs definition, parameter type, return type</li>
</ul>
<h2 id="coupling-miara-wspolzaleznosci"><a href="#coupling-miara-wspolzaleznosci" class="headerlink" title="coupling (miara współzależności)"></a>coupling (miara współzależności)</h2><p>In software engineering, <strong>coupling</strong> is <strong>the degree of interdependence between software modules</strong>; a <strong>measure of how closely connected two routines or modules are</strong>; <em>the strength of the relationships</em> between modules.</p>
<p>Coupling is usually <strong>contrasted with cohesion</strong>. <strong>Low coupling often correlates with high cohesion</strong>, and vice versa. Low coupling is often a sign of a <strong>well-structured computer system and a good design</strong>, and when combined with high cohesion, supports the general goals of high readability and maintainability.</p>
<h2 id="cohesion-miara-spojnosci"><a href="#cohesion-miara-spojnosci" class="headerlink" title="cohesion (miara spójności)"></a>cohesion (miara spójności)</h2><p>In computer programming, cohesion refers to <strong>the degree to which the elements inside a module belong together</strong>. In one sense, it is a measure of the strength of relationship between the methods and data of a class and some unifying purpose or concept served by that class. In another sense, it is a measure of the strength of relationship between the class’s methods and data themselves.</p>
<p>Cohesion is an ordinal type of measurement and is usually described as “high cohesion” or “low cohesion”. Modules with high cohesion tend to be preferable, because <strong>high cohesion is associated with several desirable traits of software including robustness, reliability, reusability, and understandability</strong>. In contrast, low cohesion is associated with undesirable traits such as being difficult to maintain, test, reuse, or even understand.</p>
<h2 id="loose-coupling"><a href="#loose-coupling" class="headerlink" title="loose coupling"></a>loose coupling</h2><p>In computing and systems design a loosely coupled system is one in which each of its components has, or makes use of, <strong>little or no knowledge of the definitions of other separate components</strong>. Subareas include the coupling of classes, interfaces, data, and services. Loose coupling is the opposite of tight coupling.</p>
<h2 id="big-ball-of-mud"><a href="#big-ball-of-mud" class="headerlink" title="big ball of mud"></a>big ball of mud</h2><p>A <strong>big ball of mud</strong> is a software system that <strong>lacks a perceivable architecture</strong>. Although undesirable from a software engineering point of view, such systems are common in practice due to <strong>business pressures, developer turnover and code entropy</strong>. They are a type of design anti-pattern.</p>
<h2 id="software-entropy"><a href="#software-entropy" class="headerlink" title="software entropy"></a>software entropy</h2><p>The second law of thermodynamics, in principle, states that a closed system’s disorder cannot be reduced, <strong>it can only remain unchanged or increase</strong>. A measure of this disorder is entropy. This law also seems plausible for software systems; <strong>as a system is modified, its disorder, or entropy, tends to increase. This is known as software entropy</strong>.</p>
<p>The process of code refactoring can result in stepwise reductions in software entropy.</p>
<p><strong>Software rot,</strong> also known as code rot, software erosion, software decay or software entropy is either a slow deterioration of software performance over time or its diminishing responsiveness that will eventually lead to software becoming faulty, unusable, or in need of upgrade.</p>
<h2 id="feature-creep"><a href="#feature-creep" class="headerlink" title="feature creep"></a>feature creep</h2><p><strong>Feature creep is the excessive ongoing expansion or addition of new features in a product,</strong>[1] especially in computer software, videogames and consumer and business electronics. These extra features go beyond the basic function of the product and can result in software bloat and over-complication, rather than simple design.</p>
<h2 id="software-brittleness"><a href="#software-brittleness" class="headerlink" title="software brittleness"></a>software brittleness</h2><p>In computer programming and software engineering, software brittleness is the increased difficulty in fixing older software that may appear reliable, <strong>but fails badly when presented with unusual data or altered in a seemingly minor way</strong>. </p>
<h2 id="first-class-functions"><a href="#first-class-functions" class="headerlink" title="first-class functions"></a>first-class functions</h2><p>In computer science, a programming language is said to have first-class functions if it <strong>treats functions as first-class citizens</strong>. This means the language supports <strong>passing functions as arguments to other functions, returning them as the values from other functions, and assigning them to variables or storing them in data structures</strong>.[1] Some programming language theorists require support for anonymous functions (function literals) as well.[2] In languages with first-class functions, the names of functions do not have any special status; they are treated like ordinary variables with a function type.[3]<br>First-class functions are a necessity for the <a href="https://en.m.wikipedia.org/wiki/Functional_programming" target="_blank" rel="noopener">functional programming</a> style, in which the use of <a href="https://en.m.wikipedia.org/wiki/Higher-order_function" target="_blank" rel="noopener">higher-order functions</a> is a standard practice. A simple example of a higher-ordered function is the <a href="https://en.m.wikipedia.org/wiki/Map_(higher-order_function)" target="_blank" rel="noopener">map</a> function, which takes, as its arguments, a function and a list, and returns the list formed by applying the function to each member of the list. For a language to support <em>map</em>, it must support passing a function as an argument.<br>Source <a href="https://en.m.wikipedia.org/wiki/First-class_function" target="_blank" rel="noopener">https://en.m.wikipedia.org/wiki/First-class_function</a></p>
<h2 id="higher-order-function"><a href="#higher-order-function" class="headerlink" title="higher order function"></a>higher order function</h2><p>a function taking another function as argument is called a higher-order function</p>
<h1 id="Authorization-vs-Authentication"><a href="#Authorization-vs-Authentication" class="headerlink" title="Authorization vs Authentication"></a>Authorization vs Authentication</h1><p>• <strong>Authentication</strong> describes the process of claiming an identity. That’s what you do when you log in to a service with a username and password, you authenticate yourself.<br>• <strong>Authorization</strong> on the other hand describes permission rules that specify the access rights of individual users and user groups to certain parts of the system.</p>
<h1 id="Software-problems"><a href="#Software-problems" class="headerlink" title="Software problems"></a>Software problems</h1><ul>
<li>business pressures</li>
<li>developer turnover</li>
<li>code entropy</li>
<li>developers productivity</li>
<li>errors tracking and detecting</li>
<li>infrastructure cost and predicting spikes</li>
<li>development cost</li>
<li>enterprise level app - is computer software used to satisfy the needs of an organization rather than individual users</li>
</ul>
<h1 id="Languages-features"><a href="#Languages-features" class="headerlink" title="Languages features"></a>Languages features</h1><ul>
<li>pros if language offers excellent <strong>code analysis support</strong> and <strong>comprehensive editors/IDEs</strong></li>
<li>pros if language offers <strong>developing</strong>, <strong>refactoring</strong> and <strong>debugging</strong> is fast and easy</li>
<li>pros if language offers <strong>strict type system</strong> and <strong>compile-time error checks</strong>, C# is more potent than JavaScript</li>
</ul>
<h1 id="Uncommon-terms"><a href="#Uncommon-terms" class="headerlink" title="Uncommon terms"></a>Uncommon terms</h1><ul>
<li><strong>Monkey patching</strong><br><a href="https://en.wikipedia.org/wiki/Monkey_patch" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Monkey_patch</a><br><a href="https://www.audero.it/blog/2016/12/05/monkey-patching-javascript/" target="_blank" rel="noopener">https://www.audero.it/blog/2016/12/05/monkey-patching-javascript/</a></li>
<li><strong>Domain-driven design (skrót DDD)</strong> – podejście do tworzenia oprogramowania kładące nacisk na takie definiowanie obiektów i komponentów systemu oraz ich zachowań, aby wiernie odzwierciedlały rzeczywistość. Dopiero po utworzeniu takiego modelu należy rozważyć zagadnienia związane z techniczną realizacją. Podejście to umożliwia modelowanie systemów informatycznych przez ekspertów, którzy znają specyfikę problemu, lecz nie muszą znać się na projektowaniu architektury systemów informatycznych.</li>
<li><strong>Command–query separation (CQS)</strong> is a principle of imperative computer programming. It was devised by Bertrand Meyer as part of his pioneering work on the Eiffel programming language. It states that every method should either be a command that performs an action, or a query that returns data to the caller, but not both. In other words, Asking a question should not change the answer.[1] More formally, methods should return a value only if they are referentially transparent and hence possess no side effects.</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mateuszroth.github.io/blog/2019/12/01/Software-Engineering-notes/" data-id="ck8yjhfng002n4irf8u5icf4l" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/Software-Engineering/" rel="tag">Software Engineering</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-DRAFT-Frontend-various-notes" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2019/11/01/DRAFT-Frontend-various-notes/" class="article-date">
  <time datetime="2019-11-01T17:55:26.000Z" itemprop="datePublished">2019-11-01</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/Frontend/">Frontend</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2019/11/01/DRAFT-Frontend-various-notes/">[DRAFT] Frontend - miscellaneous notes</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Styled-Components"><a href="#Styled-Components" class="headerlink" title="Styled Components"></a>Styled Components</h1><h2 id="Pros-of"><a href="#Pros-of" class="headerlink" title="Pros of"></a>Pros of</h2><ul>
<li><strong>styles are part of JavaScript</strong> (CSS-in-JS) in this case and allow you to build components from CSS snippets</li>
<li>with styled components <strong>you can build CSS dynamically based on props and state of the component</strong></li>
<li><strong>you don’t have to create tons of class names</strong> with related CSS declarations written somewhere else. Class names are generated automatically and you don’t have to care about them anymore.</li>
</ul>
<h1 id="Terms"><a href="#Terms" class="headerlink" title="Terms"></a>Terms</h1><h2 id="Codemod"><a href="#Codemod" class="headerlink" title="Codemod"></a>Codemod</h2><p>Codemod is a script run against a codebase for example in purpose of updating the codebase automatically for new changes in the API of an updated library.</p>
<h2 id="Tree-Shaking"><a href="#Tree-Shaking" class="headerlink" title="Tree Shaking"></a>Tree Shaking</h2><p>// TODO</p>
<h2 id="Bundle-Splitting"><a href="#Bundle-Splitting" class="headerlink" title="Bundle Splitting"></a>Bundle Splitting</h2><p>// TODO</p>
<h2 id="AMP"><a href="#AMP" class="headerlink" title="AMP"></a>AMP</h2><p>// TODO</p>
<p>Supported in Next.js.</p>
<h2 id="Frontend-integration-tests"><a href="#Frontend-integration-tests" class="headerlink" title="Frontend integration tests"></a>Frontend integration tests</h2><p>// TODO</p>
<p>Integration tests may be based on <strong>Selenium webdriver</strong>, which may be combined with <strong>chromedriver</strong> to test in <strong>headless Chrome</strong>.</p>
<h2 id="Module-nomodule-pattern"><a href="#Module-nomodule-pattern" class="headerlink" title="Module/nomodule pattern"></a>Module/nomodule pattern</h2><p>The module/nomodule pattern provides a reliable mechanism for serving modern JavaScript to modern browsers while still allowing older browsers to fall back to polyfilled ES5.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mateuszroth.github.io/blog/2019/11/01/DRAFT-Frontend-various-notes/" data-id="ck8yjhfkt00004irf1gjh1ebm" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/Frontend/" rel="tag">Frontend</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Node-js-basics" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2019/10/24/Node-js-basics/" class="article-date">
  <time datetime="2019-10-24T22:33:05.000Z" itemprop="datePublished">2019-10-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/Node-js/">Node.js</a>►<a class="article-category-link" href="/blog/categories/Node-js/Basics/">Basics</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2019/10/24/Node-js-basics/">Node.js introduction - pros and cons, qualities</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="What-is-Node-js-and-its-pros-and-cons"><a href="#What-is-Node-js-and-its-pros-and-cons" class="headerlink" title="What is Node.js and its pros and cons"></a>What is Node.js and its pros and cons</h1><p>Most of the information below is taken from <a href="https://www.netguru.com/blog" target="_blank" rel="noopener">Netguru blog</a>.</p>
<h2 id="What-is"><a href="#What-is" class="headerlink" title="What is"></a>What is</h2><p>Node.js’ famous <strong>asynchronous I/O</strong> and its <strong>single-threaded event loop</strong> models that can efficiently <strong>handle concurrent requests</strong>. Node.js is based on an <strong>event-driven</strong>, <strong>non-blocking I/O model</strong>, and <strong>uses only a single CPU core</strong>. The non-blocking IO system lets you process numerous requests concurrently.</p>
<ul>
<li>That’s how we can conclude Node.js is single-threaded but <strong>in the background it uses <em>multiple threads</em> to execute asynchronous code with the help of the libuv library.</strong> Only the event loop is single-threaded.</li>
<li><a href="https://medium.com/better-programming/is-node-js-really-single-threaded-7ea59bcc8d64" target="_blank" rel="noopener">https://medium.com/better-programming/is-node-js-really-single-threaded-7ea59bcc8d64</a> While Node.js itself is multithreaded – I/O and other such operations run from a thread pool – JavaScript code executed by Node.js runs, for all practical purposes, in a single thread. This isn’t a limitation of Node.js itself, but of the V8 JavaScript engine and of JavaScript implementations generally.</li>
<li><a href="https://stackoverflow.com/a/40029919" target="_blank" rel="noopener">https://stackoverflow.com/a/40029919</a> The single threaded, async nature does make things complicated. But do you honestly think it’s more complicated than threading? One race condition can ruin your entire month! Or empty out your thread pool due to some setting somewhere and watch your response time slow to a crawl! Not to mention deadlocks, priority inversions, and all the other gyrations that go with multithreading.</li>
<li><a href="https://stackoverflow.com/a/17959746" target="_blank" rel="noopener">https://stackoverflow.com/a/17959746</a> The main functionality differentiation between NodeJs based servers and other IIS/ Apache based servers, <strong>NodeJs for every connection request do not create a new thread</strong> instead it receives all request on single thread and delegates it to be handled by many background workers to do the task as required.</li>
<li><a href="https://codeburst.io/how-node-js-single-thread-mechanism-work-understanding-event-loop-in-nodejs-230f7440b0ea" target="_blank" rel="noopener">https://codeburst.io/how-node-js-single-thread-mechanism-work-understanding-event-loop-in-nodejs-230f7440b0ea</a></li>
</ul>
<p>Node.js comes with many <strong>APIs suitable for backend development</strong>, e.g. the support for <strong>file systems, http requests, streams, child processes</strong>, etc. Browsers do offer some basic support for file systems or http requests, but those are usually limited due to security concerns.</p>
<p>More:</p>
<ul>
<li>Node.js event loop phases explained <a href="https://codeburst.io/how-node-js-single-thread-mechanism-work-understanding-event-loop-in-nodejs-230f7440b0ea" target="_blank" rel="noopener">https://codeburst.io/how-node-js-single-thread-mechanism-work-understanding-event-loop-in-nodejs-230f7440b0ea</a></li>
</ul>
<h2 id="Pros"><a href="#Pros" class="headerlink" title="Pros"></a>Pros</h2><p>Nowadays it is possible to write both front-end and back-end of web applications in Javascript, making app deployment much easier and more efficient. </p>
<p>Node.js as your server technology gives your team a great boost that comes from <strong>using the same language on both the front end and the back end</strong>. This, means that <strong>your team is more efficient and cross-functional</strong>, which, in turn, leads to <strong>lower development costs</strong>.</p>
<p>Node’s ability to <strong>process many requests with low response times,</strong> as well as <strong>sharing things such as validation code between the client and server</strong>, make it a great fit for modern web applications that carry out lots of processing on the client’s side.</p>
<p>For SPAs apps Node.js would only return the index page (index.html) while data would be sent via REST interfaces and controllers implemented server-side. From the design point of view, such approach will ensure the <strong>clear separation of concerns (SoC) between models, controllers, and views</strong> with all data-related services implemented server-side.</p>
<p>Node.js is especially <strong>popular in real-time applications</strong> or when we seek a <strong>fast and scalable solution</strong>. Node.js. An event-driven, non-blocking server was a good solution for an <strong>instant propagation of updates</strong>, which required <strong>holding a lot of open connections</strong>.</p>
<p>In particular, Node <strong>has a powerful Event API</strong> that facilitates creating certain kinds of objects (“emitters”) that periodically emit named events “listened” by event handlers. Thanks to this functionality, Node.js makes it <strong>easy to implement server-side events and push notifications</strong> widely used in instant messaging and other real-time applications.</p>
<p>Node’s event-based architecture also <strong>works well with the WebSockets protocol</strong> that facilitates a fast two-way exchange of messages between the client and the server via one open connection. By installing WebSockets libraries on the server and the client side, you can implement real-time messaging that has lower overheads and latency, and faster data transfer than most other, more conventional, solutions.</p>
<p>IoT developers working in data-intensive scenarios can leverage the <strong>low resource requirements of Node.js</strong>. <strong>Low memory requirements</strong> allow for the easy integration of Node.js as software into single-board controllers such as Arduino, widely used for building digital devices that make up IoT systems. Finally, the Node community has been an early adopter of the IoT technology, creating over 80 packages for Arduino controllers and multiple packages for the Pebble and Fitbit wearable devices widely used in IoT systems.</p>
<p>Node.js <strong>offers fewer abstractions</strong> than for example ASP.NET, allowing developers to <strong>write code using a multitude of small components</strong> rather than configuring a vast number of parameters.</p>
<p>Node.js will prove <strong>useful in situations when something faster and more scalable than Rails is needed</strong>.</p>
<p>The Node.js developers <strong>community is a very active and vibrant group</strong> of developers who contribute to constant improvement of Node.js.</p>
<h2 id="Cons"><a href="#Cons" class="headerlink" title="Cons"></a>Cons</h2><p>Node.js is <strong>not so good for developing CPU-intensive</strong> applications that involve the generation and processing of images, audio, or video. <strong>Being a single-threaded solution, Node.js may be become unresponsive and slow in processing large files.</strong> In this case, conventional multi-threaded solutions will be your best bet.</p>
<ul>
<li>So just spawn workers, well! That’s the whole deal with Node.js. Heavy stuff can run in another process, and you process it’s results in a lightweight callback.</li>
<li><a href="https://stackoverflow.com/questions/17959663/why-is-node-js-single-threaded#comment26250255_17959746" target="_blank" rel="noopener">https://stackoverflow.com/questions/17959663/why-is-node-js-single-threaded#comment26250255_17959746</a> Converting product data into a UI is not CPU intensive, nor is calculating orders or the like. Most of the web is pretty transactional. CPU intensive stuff is things like converting videos, converting image formats, etc. Much of that is due to file i/o which, actually, node does pretty well. And makes it <strong>easy to offload to another process that’s dedicated to the converting</strong>.</li>
<li><a href="https://stackoverflow.com/questions/17959663/why-is-node-js-single-threaded#comment26252014_17959746" target="_blank" rel="noopener">https://stackoverflow.com/questions/17959663/why-is-node-js-single-threaded#comment26252014_17959746</a></li>
</ul>
<p>Node.js is <strong>not best choice for applications with a vast code</strong> <strong>base</strong> – since Java provides strongly typed sources, refactoring it and bug fixing will be more straightforward during its maintenance.</p>
<h2 id="Infra"><a href="#Infra" class="headerlink" title="Infra"></a>Infra</h2><p>Node.js <strong>works perfectly with the leading cloud computing tools</strong>, keeps the infrastructure costs under control, and <strong>gives you access to the best services that predict usage spikes, expand resources and control the development process</strong>.</p>
<p>With AWS and Node.js you get a set of development tools that can predict and detect an increase in web application traffic and usage to automatically add virtual machines to meet the new requirements.</p>
<h3 id="SERVERLESS"><a href="#SERVERLESS" class="headerlink" title="SERVERLESS"></a>SERVERLESS</h3><p>Node.js <strong>allows for serverless app development</strong>. The easiest way to do it is to use the <strong>Serverless framework</strong> powered by AWS. You can build apps directly in the AWS environment. All the processes take place there, so you don’t need DevOps, because everything is configured automatically. Your app’s developer writes code, uploads it to Serverless, and it’s all set up.</p>
<h3 id="MICROSERVICES"><a href="#MICROSERVICES" class="headerlink" title="MICROSERVICES"></a>MICROSERVICES</h3><p>Node.js <strong>is an excellent pick for the microservices architecture approach</strong>, which offers excellent scalability and stability.</p>
<p>Node.js with microservices significantly reduces application deployment time and <strong>enhances efficiency, maintainability, and scalability of your applications</strong>.</p>
<p>Using microservices, you <strong>build your app from separate small blocks that perform one function</strong> (e.g., checkout in an e-commerce app, product page, shopping cart, etc). Each block receives information, computes it, and delivers the result. <strong>You can add, multiply, and remove these elements according to your needs.</strong> <strong>This brings stability.</strong> First of all, if one element crashes, for instance, the checkout, the users who are browsing the other parts of the store will not notice it.</p>
<p>Building software with a microservices architecture is fast and easy, however, if you include too many blocks and too many relations among them, <strong>supporting and expanding such an architecture may become tricky when you put dozens of element together</strong>.</p>
<h3 id="EXAMPLES"><a href="#EXAMPLES" class="headerlink" title="EXAMPLES"></a>EXAMPLES</h3><p>PayPal, a worldwide online payments system, has also moved their backend development from Java to JavaScript and Node.js. Beforehand, the engineering teams at the company were divided into those who code for the browser and those who code for the application layer, and it didn’t work perfectly. Then, full-stack engineers came to the rescue, but that model wasn’t ideal too. Adopting Node.js solved their problems, as it allowed for writing the browser and the server applications in the same programming language – JavaScript. As a result, the unified team is able to understand problems at both ends and react more effectively to the customer needs. Read more here about how smaller Node.js team started work 2 months after bigger Java team and catched them up: <a href="https://www.paypal-engineering.com/2013/11/22/node-js-at-paypal/" target="_blank" rel="noopener">https://www.paypal-engineering.com/2013/11/22/node-js-at-paypal/</a></p>
<h3 id="Sources"><a href="#Sources" class="headerlink" title="Sources"></a>Sources</h3><ul>
<li><a href="https://medium.com/paypal-engineering/node-js-at-paypal-4e2d1d08ce4f" target="_blank" rel="noopener">https://medium.com/paypal-engineering/node-js-at-paypal-4e2d1d08ce4f</a></li>
<li><a href="https://www.netguru.com/hs-fs/hubfs/Blog_posts_-_images/image1-15.png?width=980&amp;height=755&amp;name=image1-15.png" target="_blank" rel="noopener">https://www.netguru.com/hs-fs/hubfs/Blog_posts_-_images/image1-15.png?width=980&amp;height=755&amp;name=image1-15.png</a></li>
<li><a href="https://www.netguru.com/blog/top-companies-used-nodejs-production" target="_blank" rel="noopener">https://www.netguru.com/blog/top-companies-used-nodejs-production</a></li>
<li><a href="https://www.netguru.com/blog/node.js-scalability-how-your-web-application-can-benefit-from-node.js" target="_blank" rel="noopener">https://www.netguru.com/blog/node.js-scalability-how-your-web-application-can-benefit-from-node.js</a></li>
<li><a href="https://www.netguru.com/blog/node.js-vs.-asp.net-for-enterprise-solutions-which-stack-to-choose-for-advanced-web-applications" target="_blank" rel="noopener">https://www.netguru.com/blog/node.js-vs.-asp.net-for-enterprise-solutions-which-stack-to-choose-for-advanced-web-applications</a></li>
<li><a href="https://www.netguru.com/blog/pros-cons-use-node.js-backend" target="_blank" rel="noopener">https://www.netguru.com/blog/pros-cons-use-node.js-backend</a></li>
<li><a href="https://www.netguru.com/blog/use-node-js-backend" target="_blank" rel="noopener">https://www.netguru.com/blog/use-node-js-backend</a></li>
</ul>
<h1 id="Advantages-of-development-in-Node-js"><a href="#Advantages-of-development-in-Node-js" class="headerlink" title="Advantages of development in Node.js"></a>Advantages of development in Node.js</h1><ul>
<li><strong>Serialization</strong> - in Node.js mostly builtin, we use <code>response.json()</code> or <code>json.stringify()</code></li>
<li><code>schema</code> - joi, parsing and validation of form values, parsing and validation of query string, schm, ajv, <a href="https://scotch.io/tutorials/node-api-schema-validation-with-joi" target="_blank" rel="noopener">https://scotch.io/tutorials/node-api-schema-validation-with-joi</a></li>
<li>Very solid article about Node.js backend that uses TypeScript, TypeORM, SQL database, Winston logger, PM2 process manager, Redis: <a href="https://itnext.io/production-ready-node-js-rest-apis-setup-using-typescript-postgresql-and-redis-a9525871407" target="_blank" rel="noopener">https://itnext.io/production-ready-node-js-rest-apis-setup-using-typescript-postgresql-and-redis-a9525871407</a></li>
<li>PM2 process manager or Rollbar help detect and track errors easily, boosting developers’ productivity</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mateuszroth.github.io/blog/2019/10/24/Node-js-basics/" data-id="ck8yjhfne002m4irf3sd54r72" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/Backend/" rel="tag">Backend</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/Node-js/" rel="tag">Node.js</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-JavaScript-CommonJS-vs-AMD" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2019/09/22/JavaScript-CommonJS-vs-AMD/" class="article-date">
  <time datetime="2019-09-22T18:17:59.000Z" itemprop="datePublished">2019-09-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/JavaScript/">JavaScript</a>►<a class="article-category-link" href="/blog/categories/JavaScript/Basics/">Basics</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2019/09/22/JavaScript-CommonJS-vs-AMD/">JavaScript CommonJS vs AMD</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="CommonJS"><a href="#CommonJS" class="headerlink" title="CommonJS"></a>CommonJS</h1><ul>
<li>uses <code>exports</code> and <code>require</code> keywords</li>
<li>needs module identifier</li>
<li>not designed for browser</li>
<li>Browserify will let you use CommonJS in the browser</li>
<li>CommonJS <code>require()</code> is a synchronous call, it is expected to return the <strong>module immediately</strong> which does not work well in the browser</li>
<li>Node.js and RingoJS are server-side JavaScript runtimes, and yes, both of them implement modules based on the CommonJS Module spec</li>
</ul>
<h1 id="AMD"><a href="#AMD" class="headerlink" title="AMD"></a>AMD</h1><ul>
<li><code>RequireJS</code> implements it</li>
<li>suits web browser envs</li>
<li><strong>supports asynchronous loading</strong> of module dependencies</li>
<li><code>define</code> keyword</li>
<li>example:<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line">define(<span class="string">'module/id/string'</span>, [<span class="string">'module'</span>, <span class="string">'dependency'</span>, <span class="string">'array'</span>], </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params">module, factory function</span>) </span>&#123;</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">    <span class="keyword">return</span> ModuleContents;  </span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line">&#125;);</span></pre></td></tr></table></figure></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mateuszroth.github.io/blog/2019/09/22/JavaScript-CommonJS-vs-AMD/" data-id="ck8yjhfl7000a4irf21zph8vm" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/JavaScript/" rel="tag">JavaScript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-JavaScript-performance-time-measurement-of-function-calls" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2019/09/22/JavaScript-performance-time-measurement-of-function-calls/" class="article-date">
  <time datetime="2019-09-22T18:13:48.000Z" itemprop="datePublished">2019-09-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/JavaScript/">JavaScript</a>►<a class="article-category-link" href="/blog/categories/JavaScript/Performance/">Performance</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2019/09/22/JavaScript-performance-time-measurement-of-function-calls/">JavaScript - performance / time measurement of function calls</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>You can use <code>performance.now()</code>:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> t0 = performance.now();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">arr1.unshift(<span class="number">0</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> t1 = performance.now();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(t1 - t0);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> t2 = performance.now();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr2 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr3 = [<span class="number">0</span>, ...arr2];</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">10</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> t3 = performance.now();</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">11</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(t3 - t2);</span></pre></td></tr></table></figure>

<p>Or <code>console.time</code> and <code>console.timeEnd</code>:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.time(<span class="string">'unshift'</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line">arr1.unshift(<span class="number">0</span>)</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">'unshift'</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">5</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">6</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.time(<span class="string">'destructuring'</span>);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">7</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr2 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">8</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr3 = [<span class="number">0</span>, ...arr2];</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">9</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">'destructuring'</span>);</span></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://mateuszroth.github.io/blog/2019/09/22/JavaScript-performance-time-measurement-of-function-calls/" data-id="ck8yjhfla000e4irfbl0u547u" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/JavaScript/" rel="tag">JavaScript</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-JavaScript-parseInt-vs-Number-comparision" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2019/07/05/JavaScript-parseInt-vs-Number-comparision/" class="article-date">
  <time datetime="2019-07-05T23:00:00.000Z" itemprop="datePublished">2019-07-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/JavaScript/">JavaScript</a>►<a class="article-category-link" href="/blog/categories/JavaScript/Basics/">Basics</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/blog/2019/07/05/JavaScript-parseInt-vs-Number-comparision/">JavaScript - `parseInt` vs `Number` comparision</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(string, radix);</span></pre></td></tr><tr><td class="gutter"><pre><span class="line">2</span></pre></td><td class="code"><pre><span class="line"></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">3</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="string">'123'</span>); <span class="comment">// a === 123 is false</span></span></pre></td></tr><tr><td class="gutter"><pre><span class="line">4</span></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b = <span class="built_in">Number</span>(<span class="string">'123'</span>); <span class="comment">// b === 123 is true</span></span></pre></td></tr></table></figure>

<ul>
<li><code>parseInt</code> takes 2 arguments</li>
</ul>
<p><code>Number</code>:</p>
<ul>
<li>returns <code>NaN</code> for string <code>123sdfdsf</code></li>
<li>returns <code>NaN</code> for <code>undefined</code>, <code>NaN</code> and <code>{}</code></li>
<li>returns <code>0</code> for <code>false</code>, <code>null</code>, <code>&quot;&quot;</code>, <code>&quot; &quot;</code></li>
<li>returns <code>1</code> for <code>true</code></li>
</ul>
<p><code>parseInt</code>:</p>
<ul>
<li>returns <code>123</code> for string <code>123sdfdsf</code></li>
<li>returns <code>NaN</code> for all <code>false</code>, <code>null</code>, <code>&quot;&quot;</code>, <code>&quot; &quot;</code>, <code>true</code>, <code>{}</code>, <code>undefined</code> and <code>NaN</code></li>
<li><code>parseInt</code> preferable for inputs where user can leave some additional characters</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mateuszroth.github.io/blog/2019/07/05/JavaScript-parseInt-vs-Number-comparision/" data-id="ck8yjhfl8000b4irf7rig03ps" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/JavaScript/" rel="tag">JavaScript</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/blog/page/2/">2</a><a class="extend next" rel="next" href="/blog/page/2/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Frontend/">Frontend</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/JavaScript/">JavaScript</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/JavaScript/Basics/">Basics</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/JavaScript/OOP/">OOP</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/JavaScript/Performance/">Performance</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/JavaScript/Tests/">Tests</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/JavaScript/TypeScript/">TypeScript</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Node-js/">Node.js</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Node-js/Basics/">Basics</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/React/">React</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/React/Basics/">Basics</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/React/Hooks/">Hooks</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/React/React-Hooks/">React Hooks</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/React/TypeScript/">TypeScript</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Software-Engineering/">Software Engineering</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Software-Engineering/Basics/">Basics</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Software-Engineering/OOP/">OOP</a></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Software-Engineering/Tests/">Tests</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Backend/" rel="tag">Backend</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/C/" rel="tag">C#</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Frontend/" rel="tag">Frontend</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Node-js/" rel="tag">Node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/OOP/" rel="tag">OOP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/React/" rel="tag">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/React-Hooks/" rel="tag">React Hooks</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Software-Engineering/" rel="tag">Software Engineering</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Tests/" rel="tag">Tests</a></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/TypeScript/" rel="tag">TypeScript</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/blog/tags/Backend/" style="font-size: 12.5px;">Backend</a> <a href="/blog/tags/C/" style="font-size: 10px;">C#</a> <a href="/blog/tags/Frontend/" style="font-size: 10px;">Frontend</a> <a href="/blog/tags/JavaScript/" style="font-size: 20px;">JavaScript</a> <a href="/blog/tags/Node-js/" style="font-size: 12.5px;">Node.js</a> <a href="/blog/tags/OOP/" style="font-size: 12.5px;">OOP</a> <a href="/blog/tags/React/" style="font-size: 17.5px;">React</a> <a href="/blog/tags/React-Hooks/" style="font-size: 12.5px;">React Hooks</a> <a href="/blog/tags/Software-Engineering/" style="font-size: 15px;">Software Engineering</a> <a href="/blog/tags/Tests/" style="font-size: 12.5px;">Tests</a> <a href="/blog/tags/TypeScript/" style="font-size: 12.5px;">TypeScript</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2019/01/">January 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/2019/12/01/React-various-notes/">React - miscellaneous notes</a>
          </li>
        
          <li>
            <a href="/blog/2019/12/01/TypeScript-basics/">TypeScript basics</a>
          </li>
        
          <li>
            <a href="/blog/2019/12/01/TypeScript-React/">TypeScript with React</a>
          </li>
        
          <li>
            <a href="/blog/2019/12/01/React-Hooks-introduction-and-API-pitfalls/">React Hooks - introduction and API pitfalls</a>
          </li>
        
          <li>
            <a href="/blog/2019/12/01/Software-Engineering-notes/">Software Engineering notes</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Mateusz Roth<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/blog/" class="mobile-nav-link">Home</a>
  
    <a href="/blog/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css">
  <script src="/blog/fancybox/jquery.fancybox.pack.js"></script>


<script src="/blog/js/script.js"></script>



  </div>
</body>
</html>